<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="1Title：Google Earth Engine 基础    字符String字符变量1234var string &#x3D; ee.String(&quot;string&quot;)；创建一个名为 string 的变量,ee.String(&#x27;string&#x27;)赋给变量string    字符链接耦合123var cat_string &#x3D; string_1.cat(string2)">
<meta property="og:type" content="article">
<meta property="og:title" content="hexo">
<meta property="og:url" content="http://example.com/2024/06/21/GoogleEarthEngine/index.html">
<meta property="og:site_name" content="hexo">
<meta property="og:description" content="1Title：Google Earth Engine 基础    字符String字符变量1234var string &#x3D; ee.String(&quot;string&quot;)；创建一个名为 string 的变量,ee.String(&#x27;string&#x27;)赋给变量string    字符链接耦合123var cat_string &#x3D; string_1.cat(string2)">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/direct/16868f3c1d5448c7a490f5e88432e674.png">
<meta property="article:published_time" content="2024-06-21T08:20:28.779Z">
<meta property="article:modified_time" content="2024-06-21T08:21:38.572Z">
<meta property="article:author" content="suifeng">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/direct/16868f3c1d5448c7a490f5e88432e674.png">

<link rel="canonical" href="http://example.com/2024/06/21/GoogleEarthEngine/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title> | hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/21/GoogleEarthEngine/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="suifeng">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-21 16:20:28 / 修改时间：16:21:38" itemprop="dateCreated datePublished" datetime="2024-06-21T16:20:28+08:00">2024-06-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Title：Google Earth Engine 基础</span><br></pre></td></tr></table></figure>



<h3 id="字符String"><a href="#字符String" class="headerlink" title="字符String"></a>字符String</h3><h4 id="字符变量"><a href="#字符变量" class="headerlink" title="字符变量"></a>字符变量</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string = ee.<span class="title class_">String</span>(<span class="string">&quot;string&quot;</span>)；</span><br><span class="line"></span><br><span class="line">创建一个名为 string 的变量,ee.<span class="title class_">String</span>(<span class="string">&#x27;string&#x27;</span>)赋给变量string</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="字符链接耦合"><a href="#字符链接耦合" class="headerlink" title="字符链接耦合"></a>字符链接耦合</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cat_string = string_1.<span class="title function_">cat</span>(string2)；</span><br><span class="line"></span><br><span class="line">将.(点)前边的文本和cat 后边的括号里边的文本进行合并 函数前面的连接函数后面的</span><br></pre></td></tr></table></figure>



<h4 id="替换命令"><a href="#替换命令" class="headerlink" title="替换命令"></a>替换命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string_2 = string_1.<span class="title function_">replace</span>( old, <span class="keyword">new</span> );</span><br><span class="line"></span><br><span class="line">对.(点)之前的文本进行替换操作，替换的方法是把原来文本中第一个包含文本<span class="number">1</span>的内容替换为文本<span class="number">2</span>的内容。</span><br></pre></td></tr></table></figure>



<h4 id="匹配命令"><a href="#匹配命令" class="headerlink" title="匹配命令"></a>匹配命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string_2= string_1.<span class="title function_">match</span>( <span class="string">&#x27;C&#x27;</span>);</span><br><span class="line"></span><br><span class="line">对.(点)之前的文本进行匹配操作，取出来c并赋值给string_2</span><br></pre></td></tr></table></figure>



<h4 id="分割操作"><a href="#分割操作" class="headerlink" title="分割操作"></a>分割操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string_1 = ee.<span class="title class_">String</span>( <span class="string">&quot;A_B_C_D&quot;</span> );</span><br><span class="line"><span class="keyword">var</span> string_2= string_1.<span class="title function_">split</span>( <span class="string">&#x27;_&#x27;</span> );</span><br><span class="line"></span><br><span class="line">.<span class="title function_">split</span>( <span class="string">&#x27;_&#x27;</span> )把前边文本根据括号内的文本(或者符号)进行分割后得到新的<span class="title class_">List</span> 数据</span><br></pre></td></tr></table></figure>



<h4 id="截取操作"><a href="#截取操作" class="headerlink" title="截取操作"></a>截取操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string_1 = ee.<span class="title class_">String</span>( <span class="string">&quot;1234 5678 90AB&quot;</span> );</span><br><span class="line"><span class="keyword">var</span> string_2= string_1.<span class="title function_">slice</span>( <span class="number">5</span>, <span class="number">10</span> );</span><br><span class="line"><span class="keyword">var</span> string_3= string_1.<span class="title function_">slice</span>( <span class="number">5</span>);</span><br><span class="line"><span class="keyword">var</span> string_4= string_1.<span class="title function_">slice</span>( -<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">.<span class="title function_">slice</span>( , )的功能是将前边的文本取出来一部分，具体的取法根据括号内的数字来确定，</span><br><span class="line">如果是两个数字，那么取从第一个数字(不包含)开始到第二个数字(包含)截止的文本部分；</span><br><span class="line">如果只有一个数字，就从这个数字开始(不包含)取到文本结尾。</span><br><span class="line">假如这个数字是负数，那么开始的位置就是从右往左数的。</span><br></pre></td></tr></table></figure>



<h4 id="长度测量命令"><a href="#长度测量命令" class="headerlink" title="长度测量命令"></a>长度测量命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string = ee.<span class="title class_">String</span>( <span class="string">&#x27;ABCD 1234&#x27;</span> );</span><br><span class="line"><span class="keyword">var</span> number = string .<span class="title function_">length</span>( );</span><br><span class="line"></span><br><span class="line">计算给定文本长度</span><br></pre></td></tr></table></figure>



<h3 id="数字Number"><a href="#数字Number" class="headerlink" title="数字Number"></a>数字Number</h3><h4 id="创建数字"><a href="#创建数字" class="headerlink" title="创建数字"></a>创建数字</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number= ee.<span class="title class_">Number</span>( <span class="number">1324567980</span> );</span><br></pre></td></tr></table></figure>



<h4 id="数字格式的转换"><a href="#数字格式的转换" class="headerlink" title="数字格式的转换"></a>数字格式的转换</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number_1 = ee.<span class="title class_">Number</span>( -<span class="number">3.14159</span> );</span><br><span class="line"><span class="keyword">var</span> number_2 = number_1.<span class="title function_">int8</span>();</span><br><span class="line"><span class="keyword">var</span> number_3 = number_1.<span class="title function_">toInt8</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sconsole： </span><br><span class="line">    -<span class="number">3.14159</span></span><br><span class="line">	-<span class="number">3</span></span><br><span class="line">	-<span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">其它常见数字转换</span><br><span class="line">.<span class="property">unit8</span>/<span class="number">16</span>/<span class="number">32</span>/<span class="number">64</span> = .<span class="property">toUnit</span> <span class="number">8</span>/<span class="number">16</span>/<span class="number">32</span>/<span class="number">64</span></span><br><span class="line">.<span class="property">float</span> = .<span class="property">toFloat</span></span><br><span class="line">.<span class="property">double</span> = .<span class="property">toDouble</span></span><br></pre></td></tr></table></figure>



<h4 id="数字比较"><a href="#数字比较" class="headerlink" title="数字比较"></a>数字比较</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">number.<span class="title function_">eq</span>()    = </span><br><span class="line">number.<span class="title function_">neq</span>()   ≠</span><br><span class="line">number.<span class="title function_">gt</span>()    &gt;</span><br><span class="line">number.<span class="title function_">gte</span>()   ≥</span><br><span class="line">number.<span class="title function_">lt</span>()    &lt;</span><br><span class="line">number.<span class="title function_">lte</span>()   ≤</span><br><span class="line">   </span><br></pre></td></tr></table></figure>



<h4 id="数字逻辑操作"><a href="#数字逻辑操作" class="headerlink" title="数字逻辑操作"></a>数字逻辑操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">number.<span class="title function_">and</span>() </span><br><span class="line">number.<span class="title function_">or</span>() </span><br><span class="line">number.<span class="title function_">not</span>()</span><br></pre></td></tr></table></figure>



<h4 id="其它函数操作"><a href="#其它函数操作" class="headerlink" title="其它函数操作"></a>其它函数操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number_1 = ee.<span class="title class_">Number</span>( -<span class="number">3.1415</span>);</span><br><span class="line"><span class="keyword">var</span> number_2 = number_1.<span class="title function_">floor</span>().<span class="title function_">abs</span>();</span><br><span class="line"></span><br><span class="line">进行向下取整和取绝对值操作</span><br><span class="line"></span><br><span class="line">number.<span class="title function_">round</span>()		四舍五入 </span><br><span class="line">number.<span class="title function_">ceil</span>()		向上取整 </span><br><span class="line">number.<span class="title function_">sqrt</span>()		开方 </span><br><span class="line">number.<span class="title function_">exp</span>()		幂 </span><br><span class="line">number.<span class="title function_">log</span>()		对数 </span><br><span class="line">number.<span class="title function_">log10</span>()		<span class="number">10</span> 底对数</span><br></pre></td></tr></table></figure>



<h4 id="数字数学运算"><a href="#数字数学运算" class="headerlink" title="数字数学运算"></a>数字数学运算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number_1 = ee.<span class="title class_">Number</span>( <span class="number">3.14</span> );</span><br><span class="line"><span class="keyword">var</span> number_2 = ee.<span class="title class_">Number</span>( <span class="number">1.41</span> );</span><br><span class="line"><span class="keyword">var</span> result = number_2.<span class="title function_">subtract</span>(number_1);</span><br><span class="line"></span><br><span class="line">.<span class="title function_">subtract</span>() 代表用前边的数字减去后边的数字的含义</span><br><span class="line"></span><br><span class="line">其它数学运算</span><br><span class="line">number.<span class="title function_">add</span>()			加</span><br><span class="line">number.<span class="title function_">multiply</span>()		乘</span><br><span class="line">number.<span class="title function_">divide</span>()			除</span><br><span class="line">number.<span class="title function_">max</span>()			最大值</span><br><span class="line">number.<span class="title function_">min</span>()			最小值</span><br><span class="line">number.<span class="title function_">mod</span>()			取模</span><br><span class="line">number.<span class="title function_">first</span>()			取第一个</span><br><span class="line">number.<span class="title function_">first_nonzero</span>()	取非零第一个</span><br></pre></td></tr></table></figure>



<h4 id="数字的是非比较"><a href="#数字的是非比较" class="headerlink" title="数字的是非比较"></a>数字的是非比较</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ee.<span class="property">Algorithms</span>.<span class="title class_">IsEqual</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> number_1 = ee.<span class="title class_">Number</span>( <span class="number">3.14</span> );</span><br><span class="line"><span class="keyword">var</span> number_2 = ee.<span class="title class_">Number</span>( <span class="number">3.14</span> );</span><br><span class="line"><span class="keyword">var</span> number_3 = ee.<span class="title class_">Number</span>( <span class="number">3.141</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">True</span>_false_1 = ee.<span class="property">Algorithms</span>.<span class="title class_">IsEqual</span>( number_1 ,number_2 );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">True</span>_false_2 = ee.<span class="property">Algorithms</span>.<span class="title class_">IsEqual</span>( number_2, number_3 );</span><br><span class="line"></span><br><span class="line">比较括号内的两个数字是否相同，如果相同的话返回一个文本<span class="literal">true</span>，如果不同的话返回一个文本<span class="literal">false</span></span><br></pre></td></tr></table></figure>



<h4 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bitwise.<span class="property">And</span>/<span class="title class_">Or</span>/<span class="title class_">Xor</span>/<span class="title class_">Not</span>  =  bitwise_and/_or/_xor/_not</span><br><span class="line"></span><br><span class="line">与/或/异或/非                与/或/异或/非</span><br></pre></td></tr></table></figure>



<h4 id="位运算移位操作"><a href="#位运算移位操作" class="headerlink" title="位运算移位操作"></a>位运算移位操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = ee.<span class="title class_">Number</span>( <span class="number">3</span> );</span><br><span class="line"><span class="keyword">var</span> number_left = number.<span class="title function_">leftShift</span>( <span class="number">2</span> );</span><br><span class="line"><span class="keyword">var</span> number_right = number.<span class="title function_">rightShift</span>( <span class="number">1</span> );</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>( <span class="string">&#x27;00000011 to 00001100&#x27;</span>, number_left );</span><br><span class="line"><span class="title function_">print</span>( <span class="string">&#x27;00000011 to 00000001&#x27;</span>, number_right );</span><br><span class="line"></span><br><span class="line">移位位运算的功能是将数字变成二进制后，将二进制中所有的数字向左或者向右移动一定的距离，产生的空档用 <span class="number">0</span> 补充。</span><br></pre></td></tr></table></figure>



<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Dictionary</span>_Profile = ee.<span class="title class_">Dictionary</span>( &#123;</span><br><span class="line"><span class="title class_">Name</span>: <span class="string">&#x27;Jinzhu Wang&#x27;</span>,</span><br><span class="line"><span class="title class_">Gender</span>: <span class="string">&#x27;Male&#x27;</span>,</span><br><span class="line"><span class="title class_">Age</span>: <span class="string">&#x27;20&#x27;</span>,</span><br><span class="line"><span class="title class_">Location</span>: <span class="string">&#x27;Chongqing&#x27;</span></span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure>



<h4 id="字典合并combine"><a href="#字典合并combine" class="headerlink" title="字典合并combine"></a>字典合并combine</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Dict</span>_1 = ee.<span class="title class_">Dictionary</span>( &#123; <span class="title class_">Weight</span>:<span class="string">&#x27;50kg&#x27;</span>, <span class="title class_">Hight</span>:<span class="string">&#x27;160cm&#x27;</span> &#125; );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Dict</span>_2 = ee.<span class="title class_">Dictionary</span>( &#123; <span class="title class_">Weight</span>:<span class="string">&#x27;70g&#x27;</span>, <span class="title class_">Age</span>: <span class="number">26</span> &#125; );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Dict</span>_Combine = <span class="title class_">Dict</span>_1.<span class="title function_">combine</span>( <span class="title class_">Dict</span>_2, <span class="literal">true</span> );</span><br><span class="line"></span><br><span class="line">两个例子在合并时遇到了<span class="title class_">Key</span> 相同的情况，此时如果在.<span class="title function_">combine</span>( , )命令中指定第二个参数为<span class="literal">true</span>，那么这时在合并的字典中就会将重复的内容保留为第二个变量的值。</span><br><span class="line">相反的，如果将第二个参数指定为<span class="literal">false</span>，那么合并字典中的重复内容就是第一个字典的值。</span><br></pre></td></tr></table></figure>



<h4 id="更改内容命令set"><a href="#更改内容命令set" class="headerlink" title="更改内容命令set"></a>更改内容命令set</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Dict</span>_1 = ee.<span class="title class_">Dictionary</span>( &#123;</span><br><span class="line"><span class="title class_">Name</span>: <span class="string">&#x27;Jinzhu Wang&#x27;</span>,</span><br><span class="line"><span class="title class_">Gender</span>: <span class="string">&#x27;Male&#x27;</span>,</span><br><span class="line"><span class="title class_">Age</span>: <span class="string">&#x27;&gt; 20&#x27;</span>,</span><br><span class="line"><span class="title class_">Location</span>: <span class="string">&#x27;Chongqing&#x27;</span></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Dict</span>_Change = <span class="title class_">Dict</span>_1.<span class="title function_">set</span>(<span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;&lt;30&#x27;</span> );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.<span class="title function_">set</span>( , )有两个参数，第一个参数是要更改内容的<span class="title class_">Key</span>，第二个参数是将要新写</span><br><span class="line">入的内容。</span><br></pre></td></tr></table></figure>



<h4 id="陈列命令key"><a href="#陈列命令key" class="headerlink" title="陈列命令key"></a>陈列命令key</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Dict</span>_1 = ee.<span class="title class_">Dictionary</span>( &#123;</span><br><span class="line"><span class="title class_">Name</span>: <span class="string">&#x27;Jinzhu Wang&#x27;</span>,</span><br><span class="line"><span class="title class_">Gender</span>: <span class="string">&#x27;Male&#x27;</span>,</span><br><span class="line"><span class="title class_">Age</span>: <span class="string">&#x27;&gt; 20&#x27;</span>,</span><br><span class="line"><span class="title class_">Location</span>: <span class="string">&#x27;Chongqing&#x27;</span></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_Keys= <span class="title class_">Dict</span>_1.<span class="title function_">keys</span>( );</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>：</span><br><span class="line"><span class="number">0</span>：<span class="title class_">Age</span></span><br><span class="line"><span class="number">1</span>:<span class="title class_">Gender</span></span><br><span class="line"><span class="number">2</span>:<span class="title class_">Location</span></span><br><span class="line"><span class="number">3</span>:<span class="title class_">Name</span></span><br></pre></td></tr></table></figure>



<h4 id="读取命令get"><a href="#读取命令get" class="headerlink" title="读取命令get"></a>读取命令get</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Dict</span>_1 = ee.<span class="title class_">Dictionary</span>( &#123;</span><br><span class="line"><span class="title class_">Name</span>: <span class="string">&#x27;Jinzhu Wang&#x27;</span>,</span><br><span class="line"><span class="title class_">Gender</span>: <span class="string">&#x27;Male&#x27;</span>,</span><br><span class="line"><span class="title class_">Age</span>: <span class="string">&#x27;&gt; 20&#x27;</span>,</span><br><span class="line"><span class="title class_">Location</span>: <span class="string">&#x27;Chongqing&#x27;</span></span><br><span class="line">&#125; );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">The</span>_Name = <span class="title class_">Dict</span>_1.<span class="title function_">get</span>(<span class="string">&#x27;Name&#x27;</span> );</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">The</span>_Name);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>：</span><br><span class="line">jinzhu wang</span><br></pre></td></tr></table></figure>



<h4 id="关键词是否存在命令contains"><a href="#关键词是否存在命令contains" class="headerlink" title="关键词是否存在命令contains"></a>关键词是否存在命令contains</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">The</span>_Contain = <span class="title class_">Dict</span>_1.<span class="title function_">contains</span>(<span class="string">&#x27;Hight&#x27;</span>);</span><br></pre></td></tr></table></figure>



<h4 id="字典尺寸查询命令size"><a href="#字典尺寸查询命令size" class="headerlink" title="字典尺寸查询命令size"></a>字典尺寸查询命令size</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">The</span>_Size = <span class="title class_">Dict</span>_1.<span class="title function_">size</span>();</span><br></pre></td></tr></table></figure>



<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><h4 id="创建命令"><a href="#创建命令" class="headerlink" title="创建命令"></a>创建命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_Example = ee.<span class="title class_">List</span>( [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,[<span class="string">&#x27;Hello&#x27;</span>,<span class="string">&#x27;Good&#x27;</span>,<span class="string">&#x27;Bye&#x27;</span>]] );</span><br><span class="line"></span><br><span class="line"><span class="title class_">List</span> 内部通过逗号“,”来分割空间，同时其中的每一个空间都可以用来存储任意数据格式(包括遥感图像和矢量文件)的数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">重复创建</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_Repeat = ee.<span class="property">List</span>.<span class="title function_">repeat</span>( <span class="string">&#x27;Yeah!&#x27;</span>, <span class="number">5</span> );</span><br><span class="line"></span><br><span class="line">参数<span class="number">5</span>为创建的遍数</span><br></pre></td></tr></table></figure>



<h4 id="等差创建命令"><a href="#等差创建命令" class="headerlink" title="等差创建命令"></a>等差创建命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list_sequence = ee.<span class="property">List</span>.<span class="title function_">sequence</span>(<span class="number">10</span>,<span class="number">100</span>,<span class="number">5</span>,<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">创建等差数列，从<span class="number">10</span>至<span class="number">100</span>，步长为<span class="number">5</span></span><br></pre></td></tr></table></figure>



<h4 id="替换命令-1"><a href="#替换命令-1" class="headerlink" title="替换命令"></a>替换命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="title class_">List</span>( [<span class="number">1992</span>,<span class="number">01</span>,<span class="number">20</span>,<span class="string">&#x27;No.1&#x27;</span>, <span class="number">1993</span>,<span class="number">01</span>,<span class="number">15</span>,<span class="string">&#x27;No.2&#x27;</span>] );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_2 = <span class="title class_">List</span>_1.<span class="title function_">replace</span>(<span class="number">01</span>,<span class="number">05</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_3 = <span class="title class_">List</span>_1.<span class="title function_">replaceAll</span>(<span class="number">01</span>,<span class="number">05</span>);</span><br><span class="line"></span><br><span class="line">replace只把第一个<span class="number">01</span>改成<span class="number">05</span></span><br><span class="line">replaceAll把全部<span class="number">01</span>都改成<span class="number">05</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="添加与插入"><a href="#添加与插入" class="headerlink" title="添加与插入"></a>添加与插入</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="title class_">List</span>( [<span class="number">1992</span>,<span class="number">01</span>,<span class="number">20</span>,<span class="string">&#x27;No.1&#x27;</span>]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_2 = <span class="title class_">List</span>_1.<span class="title function_">add</span>(<span class="string">&#x27;Male&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_3 = <span class="title class_">List</span>_1.<span class="title function_">insert</span>(<span class="number">3</span>,<span class="string">&#x27;Chongqing&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="打包命令"><a href="#打包命令" class="headerlink" title="打包命令"></a>打包命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="title class_">List</span>( [<span class="number">1992</span>,<span class="number">01</span>,<span class="number">20</span>,<span class="string">&#x27;No.1&#x27;</span>]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_2 = <span class="title class_">List</span>_1.<span class="title function_">zip</span>([<span class="string">&#x27;Year&#x27;</span>,<span class="string">&#x27;Month&#x27;</span>,<span class="string">&#x27;Day&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>：</span><br><span class="line">[[<span class="number">1992</span>,<span class="string">&quot;year&quot;</span>],[<span class="number">1</span>,<span class="string">&quot;month&quot;</span>],[<span class="number">5</span>,<span class="string">&quot;day&quot;</span>]]</span><br></pre></td></tr></table></figure>



<h4 id="倒置和转置"><a href="#倒置和转置" class="headerlink" title="倒置和转置"></a>倒置和转置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="title class_">List</span>( [ <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span> ] );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_Reverse = <span class="title class_">List</span>_1.<span class="title function_">reverse</span>( );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_Rotate = <span class="title class_">List</span>_1.<span class="title function_">rotate</span>(<span class="number">5</span>);</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">List</span>_Reverse,<span class="title class_">List</span>_Rotate)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>：</span><br><span class="line">[<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="排序命令"><a href="#排序命令" class="headerlink" title="排序命令"></a>排序命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="title class_">List</span>( [ <span class="string">&#x27;Zhao&#x27;</span>, <span class="string">&#x27;Wang&#x27;</span>, <span class="string">&#x27;Ma&#x27;</span>, <span class="string">&#x27;Liu&#x27;</span>, <span class="string">&#x27;Bai&#x27;</span> ] );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_Sort = <span class="title class_">List</span>_1.<span class="title function_">sort</span>( );</span><br><span class="line"></span><br><span class="line">按字母/数字顺序排列</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="位置互换命令"><a href="#位置互换命令" class="headerlink" title="位置互换命令"></a>位置互换命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="title class_">List</span>( [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>] );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_2 = <span class="title class_">List</span>_1.<span class="title function_">swap</span>( <span class="number">5</span>,<span class="number">8</span> );</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">List</span>_2)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>：[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">0</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="map命令"><a href="#map命令" class="headerlink" title="map命令"></a>map命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="title class_">List</span>( [<span class="string">&#x27;Zhao&#x27;</span>,<span class="string">&#x27;Qian&#x27;</span>,<span class="string">&#x27;Sun&#x27;</span>,<span class="string">&#x27;Li&#x27;</span>] );</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Do</span> (<span class="title class_">Name</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> ee.<span class="property">List</span>.<span class="title function_">repeat</span>(<span class="title class_">Name</span>,<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_2 = <span class="title class_">List</span>_1.<span class="title function_">map</span>( <span class="title class_">Do</span> );</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">List</span>_2)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>：</span><br><span class="line"> [<span class="string">&#x27;Zhao&#x27;</span>,<span class="string">&#x27;Zhao&#x27;</span><span class="string">&#x27;Zhao&#x27;</span>]</span><br><span class="line"> [<span class="string">&#x27;Qian&#x27;</span>,<span class="string">&#x27;Qian&#x27;</span>,<span class="string">&#x27;Qian&#x27;</span>]</span><br><span class="line"> [<span class="string">&#x27;Sun&#x27;</span>,<span class="string">&#x27;Sun&#x27;</span>,<span class="string">&#x27;Sun&#x27;</span>]</span><br><span class="line"> [<span class="string">&#x27;Li&#x27;</span>,<span class="string">&#x27;Li&#x27;</span>,<span class="string">&#x27;Li&#x27;</span>]</span><br><span class="line"></span><br><span class="line">.<span class="property">map</span> 命令的作用是对<span class="title class_">List</span> 中的每一个对象(<span class="title class_">Object</span>)都执行了某种相同的操作，这种相同的操作由<span class="keyword">function</span> 命令进行编写。</span><br></pre></td></tr></table></figure>



<h4 id="循环命令"><a href="#循环命令" class="headerlink" title="循环命令"></a>循环命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_1 = ee.<span class="property">List</span>.<span class="title function_">sequence</span>(<span class="number">1</span>,<span class="number">100</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Do</span> ( <span class="title class_">Number</span>_1, <span class="title class_">Number</span>_2 )</span><br><span class="line">&#123; <span class="keyword">return</span> ee.<span class="title class_">Number</span>(<span class="title class_">Number</span>_1).<span class="title function_">add</span>(<span class="title class_">Number</span>_2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">List</span>_2 = <span class="title class_">List</span>_1.<span class="title function_">iterate</span>( <span class="title class_">Do</span>, <span class="number">0</span> );</span><br><span class="line"><span class="title function_">print</span>( <span class="title class_">List</span>_1, <span class="title class_">List</span>_2 );</span><br><span class="line"></span><br><span class="line">.<span class="title function_">iterate</span>() 命令有两个参数，第一个参数是执行循环要执行的参数方程，第二个是循环的初始量就行。</span><br></pre></td></tr></table></figure>



<h3 id="矩阵Array"><a href="#矩阵Array" class="headerlink" title="矩阵Array"></a>矩阵Array</h3><h4 id="矩阵构建"><a href="#矩阵构建" class="headerlink" title="矩阵构建"></a>矩阵构建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_1 = ee.<span class="title class_">Array</span>( [[<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>]]); <span class="comment">//3*1</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_2 = ee.<span class="title class_">Array</span>( [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]); <span class="comment">//1*3</span></span><br></pre></td></tr></table></figure>



<h4 id="单位矩阵构建"><a href="#单位矩阵构建" class="headerlink" title="单位矩阵构建"></a>单位矩阵构建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_1 = ee.<span class="property">Array</span>.<span class="title function_">identity</span>(<span class="number">5</span>);</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Array</span>_1)</span><br><span class="line"></span><br><span class="line"><span class="attr">console</span>:</span><br><span class="line"><span class="number">0</span>: [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"><span class="number">1</span>: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"><span class="number">2</span>: [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"><span class="number">3</span>: [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line"><span class="number">4</span>: [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>



<h4 id="矩阵重复命令"><a href="#矩阵重复命令" class="headerlink" title="矩阵重复命令"></a>矩阵重复命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_1 = ee.<span class="title class_">Array</span>([ [ <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> ],</span><br><span class="line">						[ <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span> ] ]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_2 = <span class="title class_">Array</span>_1.<span class="title function_">repeat</span>( <span class="number">1</span>,<span class="number">2</span> );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">console</span>:[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]</span><br><span class="line"></span><br><span class="line">第一个参数为要重复的方向，<span class="number">0</span>为列方向、<span class="number">1</span>为行方向；第二个参数为重复的遍数</span><br></pre></td></tr></table></figure>



<h4 id="矩阵倒置命令"><a href="#矩阵倒置命令" class="headerlink" title="矩阵倒置命令"></a>矩阵倒置命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_1 = ee.<span class="title class_">Array</span>( [ [<span class="number">111</span>,<span class="number">111</span>,<span class="number">111</span>],</span><br><span class="line">[<span class="number">222</span>,<span class="number">222</span>,<span class="number">222</span>] ]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_2 = <span class="title class_">Array</span>_1.<span class="title function_">transpose</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_3 = <span class="title class_">Array</span>_2.<span class="title function_">transpose</span>()</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>( <span class="title class_">Array</span>_1, <span class="title class_">Array</span>_2,<span class="title class_">Array</span>_3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">console</span>:</span><br><span class="line">[[<span class="number">111</span>,<span class="number">111</span>,<span class="number">111</span>],[<span class="number">222</span>,<span class="number">222</span>,<span class="number">222</span>]]</span><br><span class="line">[[<span class="number">111</span>,<span class="number">222</span>],[<span class="number">111</span>,<span class="number">222</span>],[<span class="number">111</span>,<span class="number">222</span>]]</span><br><span class="line">[[<span class="number">111</span>,<span class="number">111</span>,<span class="number">111</span>],[<span class="number">222</span>,<span class="number">222</span>,<span class="number">222</span>]]</span><br></pre></td></tr></table></figure>



<h4 id="数据转换命令"><a href="#数据转换命令" class="headerlink" title="数据转换命令"></a>数据转换命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_1 = ee.<span class="title class_">Array</span>( [ [<span class="number">1.1</span>, <span class="number">2.2</span>, <span class="number">3.3</span>], [<span class="number">4.4</span>, <span class="number">5.5</span>, <span class="number">6.6</span>] ] );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_2 = <span class="title class_">Array</span>_1.<span class="title function_">uint8</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Array</span>_1,<span class="title class_">Array</span>_2)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>：</span><br><span class="line">[[<span class="number">1.1</span>,<span class="number">2.2</span>,<span class="number">3.3</span>],[<span class="number">4.4</span>,<span class="number">5.5</span>,<span class="number">6.6</span>]]</span><br><span class="line">[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>]]</span><br></pre></td></tr></table></figure>



<h4 id="矩阵比较命令——参照Number"><a href="#矩阵比较命令——参照Number" class="headerlink" title="矩阵比较命令——参照Number"></a>矩阵比较命令——参照Number</h4><h4 id="矩阵的交、并命令"><a href="#矩阵的交、并命令" class="headerlink" title="矩阵的交、并命令"></a>矩阵的交、并命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_1 = ee.<span class="title class_">Array</span>( [ [<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3.14</span>,<span class="number">1.41</span>]] );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_2 = ee.<span class="title class_">Array</span>( [ [<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">4</span>]] );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_and = <span class="title class_">Array</span>_1.<span class="title function_">and</span>( <span class="title class_">Array</span>_2 );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_or = <span class="title class_">Array</span>_1.<span class="title function_">or</span>( <span class="title class_">Array</span>_2 );</span><br><span class="line"><span class="title function_">print</span>( <span class="title class_">Array</span>_1, <span class="title class_">Array</span>_2, <span class="title class_">Array</span>_and, <span class="title class_">Array</span>_or );</span><br><span class="line"></span><br><span class="line">and：如果两个值都非零，则返回<span class="number">1</span>。</span><br><span class="line">or：如果输入值非零，则返回<span class="number">1</span>。</span><br><span class="line"></span><br><span class="line"><span class="attr">console</span>:</span><br><span class="line">[[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3.14</span>,<span class="number">1.41</span>]]</span><br><span class="line">[[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line">[[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">[[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>]]</span><br></pre></td></tr></table></figure>



<h2 id="GEE数据类型"><a href="#GEE数据类型" class="headerlink" title="GEE数据类型"></a>GEE数据类型</h2><p>Geometry 可以看作是“形状”，Feature 可以看作是“带属性的形状”，而Feature Collection 则是“一个或多个Feature 的集合</p>
<h3 id="Geometry"><a href="#Geometry" class="headerlink" title="Geometry"></a>Geometry</h3><h4 id="点与多点的创建"><a href="#点与多点的创建" class="headerlink" title="点与多点的创建"></a>点与多点的创建</h4><p>点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City = ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">116.3968</span>,<span class="number">39.9186</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City,<span class="number">15</span>)  <span class="comment">//将地图视图居中于给定对象，第一个参数为位置对象，第二个参数为缩放比例范围从0-24</span></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>多点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City = ee.<span class="property">Geometry</span>.<span class="title class_">MultiPoint</span>(</span><br><span class="line">[[<span class="number">116.3921</span>, <span class="number">39.9224</span>],</span><br><span class="line">[<span class="number">116.4014</span>, <span class="number">39.9227</span>],</span><br><span class="line">[<span class="number">116.4017</span>, <span class="number">39.9138</span>],</span><br><span class="line">[<span class="number">116.3929</span>, <span class="number">39.9135</span>] ]);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City,<span class="number">15</span>)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>但是利用代码创建点的效率很低，一般直接在地图上利用工具直接进行选取，再将geometry重命名即可</p>
<h4 id="线段与多线的创建"><a href="#线段与多线的创建" class="headerlink" title="线段与多线的创建"></a>线段与多线的创建</h4><p>线段</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City = ee.<span class="property">Geometry</span>.<span class="title class_">LineString</span>(</span><br><span class="line">[[<span class="number">116.39234040929296</span>, <span class="number">39.91321497621612</span>],</span><br><span class="line">[<span class="number">116.39195417119481</span>, <span class="number">39.92276018488313</span>],</span><br><span class="line">[<span class="number">116.40186761571385</span>, <span class="number">39.9230234821268</span>],</span><br><span class="line">[<span class="number">116.40216802312352</span>, <span class="number">39.91354414349019</span>]]);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City,<span class="number">15</span>)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>多线</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City = ee.<span class="property">Geometry</span>.<span class="title class_">MultiLineString</span>([</span><br><span class="line">[[<span class="number">116.39367078496434</span>, <span class="number">39.92134494485143</span>],</span><br><span class="line">[<span class="number">116.39899228764989</span>, <span class="number">39.92173989850053</span>]],</span><br><span class="line">[[<span class="number">116.39401410771825</span>, <span class="number">39.91953471147776</span>],</span><br><span class="line">[<span class="number">116.39693235112645</span>, <span class="number">39.92085124958646</span>]],</span><br><span class="line">[[<span class="number">116.39628862096288</span>, <span class="number">39.91920557299557</span>],</span><br><span class="line">[<span class="number">116.39873479558446</span>, <span class="number">39.91752694212849</span>]] ]);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br></pre></td></tr></table></figure>



<h4 id="单环线与多环线的创建"><a href="#单环线与多环线的创建" class="headerlink" title="单环线与多环线的创建"></a>单环线与多环线的创建</h4><p>单环线</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City = ee.<span class="property">Geometry</span>.<span class="title class_">LinearRing</span>(</span><br><span class="line">[[<span class="number">116.39242623998143</span>, <span class="number">39.91321497621612</span>],</span><br><span class="line">[<span class="number">116.39195417119481</span>, <span class="number">39.92269436041402</span>],</span><br><span class="line">[<span class="number">116.40178178502538</span>, <span class="number">39.9230234821268</span>],</span><br><span class="line">[<span class="number">116.40212510777928</span>, <span class="number">39.91357706013058</span>],</span><br><span class="line">[<span class="number">116.39242623998143</span>, <span class="number">39.91321497621612</span>]]);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"></span><br><span class="line">环线首尾要连接起来，如果最后一个点不等于起始点，则在第五个点建立一个起始点的副本</span><br></pre></td></tr></table></figure>

<p>多环线</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City =ee.<span class="property">Geometry</span>.<span class="title class_">MultiLineString</span>(</span><br><span class="line">[[[<span class="number">116.39320681392098</span>, <span class="number">39.921786784372976</span>],</span><br><span class="line">[<span class="number">116.39337847529794</span>, <span class="number">39.92040443758097</span>],</span><br><span class="line">[<span class="number">116.39578173457528</span>, <span class="number">39.92070065709998</span>],</span><br><span class="line">[<span class="number">116.39556715785409</span>, <span class="number">39.92188552236169</span>],</span><br><span class="line">[<span class="number">116.39320681392098</span>, <span class="number">39.921786784372976</span>]],</span><br><span class="line">[[<span class="number">116.39801333247567</span>, <span class="number">39.91918663276216</span>],</span><br><span class="line">[<span class="number">116.39548132716561</span>, <span class="number">39.91777131887048</span>],</span><br><span class="line">[<span class="number">116.4006311684742</span>, <span class="number">39.91747508667966</span>],</span><br><span class="line">[<span class="number">116.39801333247567</span>, <span class="number">39.91918663276216</span>]]]);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"></span><br><span class="line">四边单环线共有五点定位点，三边单环线共有四个定位点</span><br></pre></td></tr></table></figure>



<h4 id="面与正方形的创建"><a href="#面与正方形的创建" class="headerlink" title="面与正方形的创建"></a>面与正方形的创建</h4><p>面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City =ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>([</span><br><span class="line">[[<span class="number">116.39179060756112</span>, <span class="number">39.922576684295926</span>],</span><br><span class="line">[<span class="number">116.39230559169198</span>, <span class="number">39.913064366936894</span>],</span><br><span class="line">[<span class="number">116.40213320552255</span>, <span class="number">39.91352520169099</span>],</span><br><span class="line">[<span class="number">116.40161822139169</span>, <span class="number">39.92297163084022</span>]],</span><br><span class="line">[[<span class="number">116.39483759700204</span>, <span class="number">39.91961451259886</span>],</span><br><span class="line">[<span class="number">116.39496634303475</span>, <span class="number">39.91648763678902</span>],</span><br><span class="line">[<span class="number">116.39900038539315</span>, <span class="number">39.916553467224674</span>],</span><br><span class="line">[<span class="number">116.39874289332772</span>, <span class="number">39.91977908105491</span>]] ]);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City,<span class="number">15</span>)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br></pre></td></tr></table></figure>

<p>正方形</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City = ee.<span class="property">Geometry</span>.<span class="title class_">Rectangle</span>(</span><br><span class="line"><span class="number">116.3926</span>, <span class="number">39.9133</span>, <span class="number">116.4014</span>, <span class="number">39.9227</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Forbidden</span>_City)</span><br></pre></td></tr></table></figure>



<h4 id="坐标系转换与显示效果"><a href="#坐标系转换与显示效果" class="headerlink" title="坐标系转换与显示效果"></a>坐标系转换与显示效果</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Geo = ee.<span class="property">Geometry</span>.<span class="title class_">Rectangle</span>(<span class="number">65.9</span>, <span class="number">19.8</span>,<span class="number">134.5</span>, <span class="number">50.9</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Planr = ee.<span class="title class_">Geometry</span>(<span class="title class_">China</span>_Geo, <span class="literal">null</span>, <span class="literal">false</span>)； <span class="comment">//三个参数分别是“矢量文件”，“坐标系”和“显示方式””，默认情况下第三个参数是true，代表用地理坐标系来显示文件。本例中此处改为了false，这意味着将用投影坐标系来显示文件。</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_EPSG = <span class="title class_">China</span>_Geo.<span class="title function_">transform</span>(<span class="string">&#x27;EPSG:3857&#x27;</span>, ee.<span class="title class_">ErrorMargin</span>(<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Geo, &#123;<span class="attr">color</span>: <span class="string">&#x27;FF0000&#x27;</span>&#125;, <span class="string">&#x27;geodesic polygon&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Planr, &#123;<span class="attr">color</span>: <span class="string">&#x27;000000&#x27;</span>&#125;, <span class="string">&#x27;planar polygon&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_EPSG, &#123;<span class="attr">color</span>: <span class="string">&#x27;0000CD&#x27;</span>&#125;, <span class="string">&#x27;EPSG polygon &#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.<span class="title function_">transform</span>(<span class="string">&#x27;EPSG:3857&#x27;</span>, ee.<span class="title class_">ErrorMargin</span>(<span class="number">100</span>))的功能是将原来<span class="title class_">Geometry</span> 的坐标系转换成指定坐标系，</span><br><span class="line">该命令中有两个参数，第一个参数是要转换的目标坐标系,第二个参数是转换后的允许误差:边距的单位:“米”、“投影”或“无限”.</span><br><span class="line"></span><br><span class="line">ee.<span class="title class_">Geometry</span>(<span class="title class_">China</span>_Geo, <span class="literal">null</span>, <span class="literal">false</span>)的三个参数分别为“矢量文件”，“坐标系”和“显示方式”，默认情况下第三个参数是<span class="literal">true</span>，代表用地理坐标系来显示文件。本例中此处改为了<span class="literal">false</span>，这意味着将用投影坐标系来显示文件.</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="求Geometry中心点"><a href="#求Geometry中心点" class="headerlink" title="求Geometry中心点"></a>求Geometry中心点</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Geo = ee.<span class="property">Geometry</span>.<span class="title class_">Rectangle</span>(<span class="number">65.9</span>, <span class="number">19.8</span>,<span class="number">134.5</span>, <span class="number">50.9</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Certer = <span class="title class_">China</span>_Geo.<span class="title function_">centroid</span>();</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Geo, &#123;<span class="attr">color</span>: <span class="string">&#x27;FF0000&#x27;</span>&#125;, <span class="string">&#x27;geodesic polygon&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Certer)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="Geometry-的四至和凸包"><a href="#Geometry-的四至和凸包" class="headerlink" title="Geometry 的四至和凸包"></a>Geometry 的四至和凸包</h4><p>凸包意为包含一组点集的最小面积的凸多边形</p>
<h4 id="Geometry-缓冲区"><a href="#Geometry-缓冲区" class="headerlink" title="Geometry 缓冲区"></a>Geometry 缓冲区</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">TGR</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/TGR&quot;</span>).<span class="title function_">geometry</span>();</span><br><span class="line"><span class="keyword">var</span> TGR_Buffer = <span class="variable constant_">TGR</span>.<span class="title function_">buffer</span>(<span class="number">10000</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="variable constant_">TGR</span> )</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">TGR</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(TGR_Buffer)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="求取Geometry并集"><a href="#求取Geometry并集" class="headerlink" title="求取Geometry并集"></a>求取Geometry并集</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Polygon</span>_1 = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">[[[<span class="number">152.71032334056088</span>, <span class="number">18.862610207551867</span>],</span><br><span class="line">[-<span class="number">170.72717665943918</span>, <span class="number">19.69222816299581</span>],</span><br><span class="line">[-<span class="number">171.07873915943918</span>, <span class="number">40.62061002589569</span>],</span><br><span class="line">[<span class="number">153.41344834056088</span>, <span class="number">40.08478212000696</span>]]])；</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Polygon</span>_2 = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">[[[-<span class="number">176.52795790943912</span>, <span class="number">45.620172046005735</span>],</span><br><span class="line">[-<span class="number">176.70373915943912</span>, <span class="number">32.2945468815855</span>],</span><br><span class="line">[-<span class="number">142.60217665943918</span>, <span class="number">32.2945468815855</span>],</span><br><span class="line">[-<span class="number">141.02014540943918</span>, <span class="number">45.49709377875777</span>]]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Polygon</span>_union = <span class="title class_">Polygon</span>_1.<span class="title function_">union</span>(<span class="title class_">Polygon</span>_2);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Polygon</span>_union)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Polygon</span>_1)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Polygon</span>_2)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Polygon</span>_union)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><p>Feature是带有属性的Geometry，除了可以用上Geometry的空间操作外，还可以根据其属性进行相关操作。</p>
<h4 id="Feature的创建"><a href="#Feature的创建" class="headerlink" title="Feature的创建"></a>Feature的创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City =ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">[[ [<span class="number">116.392391422</span>, <span class="number">39.9131466590</span>], [<span class="number">116.402090290</span>, <span class="number">39.913541660</span>],</span><br><span class="line">[<span class="number">116.401704052</span>, <span class="number">39.9229880868</span>], [<span class="number">116.391833522</span>, <span class="number">39.922593140</span>]]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_Forbindden_City = ee.<span class="title class_">Feature</span>(</span><br><span class="line">	<span class="title class_">Forbidden</span>_City,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">&quot;故宫&quot;</span>，<span class="attr">location</span>:<span class="string">&quot;北京&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Feature</span>_Fobidden_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Feature</span>_Fobidden_City)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ee,<span class="title class_">Feature</span>()共有两个参数，第一个是<span class="title class_">Feature</span>的<span class="title class_">Geometry</span>数据，第二个是<span class="title class_">Feature</span>的属性信息，属性信息使用<span class="title class_">Dictionary</span>的结构写入</span><br></pre></td></tr></table></figure>



<h4 id="Feature的选择创建"><a href="#Feature的选择创建" class="headerlink" title="Feature的选择创建"></a>Feature的选择创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City =ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">[[[<span class="number">116.39239142238046</span>, <span class="number">39.913146659084674</span>],</span><br><span class="line">[<span class="number">116.40209029017831</span>, <span class="number">39.91354166001771</span>],</span><br><span class="line">[<span class="number">116.40170405208016</span>, <span class="number">39.922988086896794</span>],</span><br><span class="line">[<span class="number">116.39183352290536</span>, <span class="number">39.922593140447425</span>]]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_Forbidden_City = ee.<span class="title class_">Feature</span>(</span><br><span class="line"><span class="title class_">Forbidden</span>_City,</span><br><span class="line">&#123;<span class="attr">name</span>:<span class="string">&quot;故宫&quot;</span>,<span class="attr">location</span>:<span class="string">&quot;北京&quot;</span>&#125;)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_select_1 = <span class="title class_">Feature</span>_Forbidden_City.<span class="title function_">select</span>([<span class="string">&quot;name&quot;</span>]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_select_2 = <span class="title class_">Feature</span>_Forbidden_City.<span class="title function_">select</span>([<span class="string">&quot;name&quot;</span>],[<span class="string">&quot;名称&quot;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Forbidden</span>_City,<span class="title class_">Feature</span>_select_1,<span class="title class_">Feature</span>_select_2)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Feature</span>_Forbidden_City)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Feature</span>.<span class="title function_">select</span>()命令的功能是创建一个原<span class="title class_">Feature</span>的“拷贝”，当括号内只有一个参数时，<span class="variable constant_">GEE</span> 拷贝原<span class="title class_">Feature</span> 的<span class="title class_">Geometary</span>，并将参数对应的属性加入到这个<span class="title class_">Geometry</span> 中形成新的<span class="title class_">Feature</span>。当括号内有两个参数时，<span class="variable constant_">GEE</span> 在将参数加入<span class="title class_">Geometry</span> 的基础上，利用第二个参数对属性的<span class="title class_">Key</span> 进行重命名。</span><br></pre></td></tr></table></figure>



<h4 id="Feature属性改写"><a href="#Feature属性改写" class="headerlink" title="Feature属性改写"></a>Feature属性改写</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Forbidden</span>_City = ee.<span class="property">Geometry</span>.<span class="title class_">Rectangle</span>( <span class="number">116.3926</span>, <span class="number">39.9133</span>, <span class="number">116.4014</span>, <span class="number">39.9227</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_Forbidden_City = ee.<span class="title class_">Feature</span>(<span class="title class_">Forbidden</span>_City,&#123;<span class="attr">name</span>:<span class="string">&quot;故宫&quot;</span>,<span class="attr">location</span>:<span class="string">&quot;北京&quot;</span>&#125;);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_Set = <span class="title class_">Feature</span>_Forbidden_City.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;Gugong&quot;</span>,<span class="string">&quot;location&quot;</span>,<span class="string">&quot;Beijing&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_Set_Multi = <span class="title class_">Feature</span>_Forbidden_City.<span class="title function_">setMulti</span>(&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;紫禁城&quot;</span>,<span class="string">&quot;location&quot;</span>:<span class="string">&quot;首都&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Feature</span>_Fobidden_City,<span class="title class_">Feature</span>_Set,<span class="title class_">Feature</span>_Set_Multi)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Forbidden</span>_City)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Feature</span>_Fobidden_City)</span><br></pre></td></tr></table></figure>



<h4 id="Feature空间操作"><a href="#Feature空间操作" class="headerlink" title="Feature空间操作"></a>Feature空间操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Chongqing</span> = ee.<span class="title class_">Feature</span>(<span class="title class_">China</span>.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>([<span class="number">106</span>,<span class="number">29</span>])).<span class="title function_">first</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> CQ_Simple = <span class="title class_">Chongqing</span>.<span class="title function_">simplify</span>(<span class="number">50000</span>)</span><br><span class="line"><span class="keyword">var</span> CQ_Centroid = <span class="title class_">Chongqing</span>.<span class="title function_">centroid</span>()</span><br><span class="line"><span class="keyword">var</span> CQ_Hull = <span class="title class_">Chongqing</span>.<span class="title function_">convexHull</span>()</span><br><span class="line"><span class="keyword">var</span> CQ_Bounds = <span class="title class_">Chongqing</span>.<span class="title function_">bounds</span>()</span><br><span class="line"><span class="keyword">var</span> CQ_Buffer = <span class="title class_">Chongqing</span>.<span class="title function_">buffer</span>(<span class="number">50000</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Chongqing</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Chongqing</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(CQ_Simple)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(CQ_Centroid)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(CQ_Hull)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(CQ_Bounds)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(CQ_Buffer)</span><br><span class="line"></span><br><span class="line">.<span class="title function_">filterBound</span>()和.<span class="title function_">first</span>()，它们的功能是利用地理位置进行筛选和取第一</span><br><span class="line">个数据</span><br></pre></td></tr></table></figure>



<h4 id="Feature的面积和周长"><a href="#Feature的面积和周长" class="headerlink" title="Feature的面积和周长"></a>Feature的面积和周长</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">TGR</span> = ee.<span class="title class_">Feature</span>(ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/TGR&quot;</span>).<span class="title function_">first</span>());</span><br><span class="line"><span class="keyword">var</span> TGR_Area = <span class="variable constant_">TGR</span>.<span class="title function_">area</span>() <span class="comment">//面积</span></span><br><span class="line"><span class="keyword">var</span> TGR_Perimeter = <span class="variable constant_">TGR</span>.<span class="title function_">perimeter</span>() <span class="comment">//周长</span></span><br></pre></td></tr></table></figure>



<h4 id="Feature-的空间信息和属性信息的提取"><a href="#Feature-的空间信息和属性信息的提取" class="headerlink" title="Feature 的空间信息和属性信息的提取"></a>Feature 的空间信息和属性信息的提取</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">TGR</span> = ee.<span class="title class_">Feature</span>(ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/TGR&quot;</span>).<span class="title function_">first</span>());</span><br><span class="line"><span class="keyword">var</span> TGR_geometry = <span class="variable constant_">TGR</span>.<span class="title function_">geometry</span>();</span><br><span class="line"><span class="keyword">var</span> TGR_get = <span class="variable constant_">TGR</span>.<span class="title function_">get</span>(<span class="string">&#x27;BOUNT_ID&#x27;</span>)</span><br><span class="line"><span class="title function_">print</span>(<span class="variable constant_">TGR</span>,TGR_geometry,TGR_get)</span><br><span class="line"></span><br><span class="line">.<span class="title function_">geometry</span>()的功能相当于提取<span class="title class_">Feature</span> 的空间信息，而<span class="title function_">get</span>(<span class="string">&#x27;BOUNT_ID&#x27;</span>)的功能</span><br><span class="line">是获取<span class="title class_">Feature</span> 属性中相应<span class="title class_">Key</span> 的内容信息</span><br></pre></td></tr></table></figure>



<p>总结上述常见的Feature命令</p>
<table>
<thead>
<tr>
<th>ee.Feature()</th>
<th>Feature.select()</th>
<th>Feature.transform()</th>
<th>Feature.set&#x2F;setMulti()</th>
</tr>
</thead>
<tbody><tr>
<td>Feature.geometry()</td>
<td>Feature.get()</td>
<td>Feature.Length&#x2F;Area&#x2F;Perimeter()</td>
<td></td>
</tr>
<tr>
<td>Feature.centroid&#x2F;simplify&#x2F;bounds&#x2F;convexHull&#x2F;buffer()</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Feature.union&#x2F;intersection&#x2F;difference&#x2F;symmetricDifference()</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="FeatureCollection"><a href="#FeatureCollection" class="headerlink" title="FeatureCollection"></a>FeatureCollection</h3><p>FeatureCollection可以看成是一个或多个Feature文件的集合。Feature Collection 相对Feature 也多出了一定的“数据集”信息。  可以理解为<strong>矢量特征集合类</strong></p>
<p>比如，中国各省级行政边界都可以看做是的Feature，都包含有各自的“Name”、“Area”等信息，而当将这些Feature 集合到一起时，就形成了一个“中国省边界”的Feature Collection，这个Collection 中可以包含“数据来源”、“采集时间”等属于数据集合的信息。</p>
<p>用户自行上传shp文件时需要打包为zip文件且包含shp&#x2F;dbf&#x2F;shx类型</p>
<h4 id="FeatureCollection的创建"><a href="#FeatureCollection的创建" class="headerlink" title="FeatureCollection的创建"></a>FeatureCollection的创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Poly</span> = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">[[[<span class="number">116.39248531478768</span>, <span class="number">39.91319513792091</span>],</span><br><span class="line">[<span class="number">116.40222709792977</span>, <span class="number">39.91378763804685</span>],</span><br><span class="line">[<span class="number">116.40184085983162</span>, <span class="number">39.92303655876662</span>],</span><br><span class="line">[<span class="number">116.39171283859139</span>, <span class="number">39.922674524864675</span>]]]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Points</span> = ee.<span class="property">Geometry</span>.<span class="title class_">MultiPoint</span>(</span><br><span class="line">[[<span class="number">116.38823669570809</span>, <span class="number">39.92079850034943</span>],</span><br><span class="line">[<span class="number">116.38677757400399</span>, <span class="number">39.91885659627606</span>],</span><br><span class="line">[<span class="number">116.38669174331551</span>, <span class="number">39.916881722097074</span>],</span><br><span class="line">[<span class="number">116.38767879623299</span>, <span class="number">39.91421555161684</span>]]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Lines</span> = ee.<span class="property">Geometry</span>.<span class="title class_">LineString</span>(</span><br><span class="line">[[<span class="number">116.37733619827156</span>, <span class="number">39.9167171466781</span>],</span><br><span class="line">[<span class="number">116.38192814010506</span>, <span class="number">39.91754001981801</span>],</span><br><span class="line">[<span class="number">116.37712162155037</span>, <span class="number">39.91365597179514</span>],</span><br><span class="line">[<span class="number">116.38424556869393</span>, <span class="number">39.914478881715695</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Feature</span>_Collection = ee.<span class="title class_">FeatureCollection</span>([<span class="title class_">Poly</span>,<span class="title class_">Points</span>,<span class="title class_">Line</span>]);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Feature</span>_Collection)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Feature</span>_Collection)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Feature</span>_Collection)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="FeatureCollection的随机点生成"><a href="#FeatureCollection的随机点生成" class="headerlink" title="FeatureCollection的随机点生成"></a>FeatureCollection的随机点生成</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Poly</span> = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">[[[<span class="number">116.39248531478768</span>, <span class="number">39.91319513792091</span>],</span><br><span class="line">[<span class="number">116.40222709792977</span>, <span class="number">39.91378763804685</span>],</span><br><span class="line">[<span class="number">116.40184085983162</span>, <span class="number">39.92303655876662</span>],</span><br><span class="line">[<span class="number">116.39171283859139</span>, <span class="number">39.922674524864675</span>]]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Random</span>_Points = ee.<span class="property">FeatureCollection</span>.<span class="title function_">randomPoints</span>(<span class="title class_">Poly</span>,<span class="number">20</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Poly</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Poly</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Random</span>_Points)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">两个参数，在<span class="title class_">Ploy</span>范围内随机生成<span class="number">20</span>个点</span><br></pre></td></tr></table></figure>



<h4 id="FeatureCollection的属性筛选"><a href="#FeatureCollection的属性筛选" class="headerlink" title="FeatureCollection的属性筛选"></a>FeatureCollection的属性筛选</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Proction</span>_Area = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;WCMC/WDPA/current/polygons&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Proction</span>_Area_China = <span class="title class_">Proction</span>_Area.<span class="title function_">filterMetadata</span>(<span class="string">&quot;ISO3&quot;</span>,<span class="string">&quot;quals&quot;</span>,<span class="string">&quot;CHN&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Proction</span>_Area_China)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Proction</span>_Area )</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Proction</span>_Area_China ,&#123;<span class="attr">color</span>:<span class="string">&#x27;FF0000&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这里需要注意两点。第一是加载的数据集是“世界自然保护区”，其中包含有很多属性信</span><br><span class="line">息，“<span class="title class_">ISO3</span>”指的是<span class="number">3</span> 字母国家代码。</span><br><span class="line"></span><br><span class="line">第二是.<span class="title function_">filterMetadata</span>()的功能是利用属性进行筛选，其三个参数分别是“筛选字段”，“关系”和“筛选值”，其中“关系”字段包括<span class="string">&quot;equals&quot;</span>, <span class="string">&quot;less_than&quot;</span>,<span class="string">&quot;greater_than&quot;</span>,<span class="string">&quot;not_equals&quot;</span>,<span class="string">&quot;not_less_than&quot;</span>,<span class="string">&quot;not_greater_than&quot;</span>,<span class="string">&quot;starts_with&quot;</span>,<span class="string">&quot;ends_with&quot;</span>,<span class="string">&quot;not_starts_with&quot;</span>,<span class="string">&quot;not_ends_with&quot;</span>, <span class="string">&quot;contains&quot;</span>,<span class="string">&quot;not_contains&quot;</span>。</span><br></pre></td></tr></table></figure>



<h4 id="FeatureCollection的数量限制命令"><a href="#FeatureCollection的数量限制命令" class="headerlink" title="FeatureCollection的数量限制命令"></a>FeatureCollection的数量限制命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces.<span class="title function_">limit</span>(<span class="number">5</span>,<span class="string">&#x27;Shape_Area&#x27;</span>,<span class="literal">false</span>))</span><br><span class="line"></span><br><span class="line">数量限制命令.<span class="title function_">limit</span>()有三个参数，分别是“最大数量”，“限制字段”和“是否从小到大”。</span><br></pre></td></tr></table></figure>



<h4 id="时间筛选命令"><a href="#时间筛选命令" class="headerlink" title="时间筛选命令"></a>时间筛选命令</h4><p>由于带有时间属性的FeatureCollection数据很少，这里用ImageCollection替代</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Landsat</span>_FilterDate = <span class="variable constant_">L8</span>.<span class="title function_">filterDate</span>(<span class="string">&#x27;2019-03-01&#x27;</span>,<span class="string">&#x27;2019-03-16&#x27;</span>).<span class="title function_">limit</span>(<span class="number">50</span>)；</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Landsat</span>_FilterDate)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="空间筛选命令"><a href="#空间筛选命令" class="headerlink" title="空间筛选命令"></a>空间筛选命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> CQ_Point =ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>([<span class="number">106.92371845031437</span>, <span class="number">29.430312117372274</span>]);</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">CQ</span> = <span class="title class_">China</span>_Provinces.<span class="title function_">filterBounds</span>(CQ_Point)；</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">3</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">CQ</span>,&#123;<span class="attr">color</span>:<span class="string">&#x27;FF0000&#x27;</span>&#125;)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(CQ_Point)</span><br></pre></td></tr></table></figure>



<h4 id="选择复制命令"><a href="#选择复制命令" class="headerlink" title="选择复制命令"></a>选择复制命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Area = <span class="title class_">China</span>_Provinces.<span class="title function_">select</span>([<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;Shape_Area&#x27;</span>])；</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Area)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Area)</span><br></pre></td></tr></table></figure>



<h4 id="去除重复命令"><a href="#去除重复命令" class="headerlink" title="去除重复命令"></a>去除重复命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Area = <span class="title class_">China</span>_Provinces.<span class="title function_">distinct</span>([<span class="string">&#x27;NAME&#x27;</span>])</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Area)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Area)</span><br><span class="line"></span><br><span class="line">去除重复命令.<span class="title function_">distinct</span>()的作用是去除具有相同属性<span class="title class_">Feature</span></span><br></pre></td></tr></table></figure>



<h4 id="融合和联合命令"><a href="#融合和联合命令" class="headerlink" title="融合和联合命令"></a>融合和联合命令</h4><p>联合的效果是形成一个单独的Feature，并且抹去所有属性。 融合是将两个Collection 合并为一个。</p>
<p>联合</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Union = <span class="title class_">China</span>_Provinces.<span class="title function_">union</span>()</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Union)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Union,&#123;<span class="attr">color</span>:<span class="string">&#x27;ff0000&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>融合</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Chongqing</span> = <span class="title class_">China</span>_Provinces.<span class="title function_">filterMetadata</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;equals&#x27;</span>,<span class="string">&#x27;Chong_Qing&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Si</span>_Chuan = <span class="title class_">China</span>_Provinces.<span class="title function_">filterMetadata</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;equals&#x27;</span>,<span class="string">&#x27;Si_Chuan&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> CQ_SC_Merge = <span class="title class_">Chongqing</span>.<span class="title function_">merge</span>(<span class="title class_">Si</span>_Chuan)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Chongqing</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Si</span>_Chuan,&#123;<span class="attr">color</span>:<span class="string">&#x27;0000ff&#x27;</span>&#125;)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(CQ_SC_Merge,&#123;<span class="attr">color</span>:<span class="string">&#x27;ff0000&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="属性改写"><a href="#属性改写" class="headerlink" title="属性改写"></a>属性改写</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Chongqing</span> = <span class="title class_">China</span>_Provinces.<span class="title function_">filterMetadata</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;equals&#x27;</span>,<span class="string">&#x27;Chong_Qing&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Si</span>_Chuan = <span class="title class_">China</span>_Provinces.<span class="title function_">filterMetadata</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;equals&#x27;</span>,<span class="string">&#x27;Si_Chuan&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> CQ_SC_Merge = <span class="title class_">Chongqing</span>.<span class="title function_">merge</span>(<span class="title class_">Si</span>_Chuan)</span><br><span class="line"><span class="keyword">var</span> CQ_SC_Merge_Set = CQ_SC_Merge.<span class="title function_">set</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;Chuan_Yu&#x27;</span>)</span><br><span class="line"></span><br><span class="line">.<span class="title function_">set</span>()操作增加了”<span class="variable constant_">NAME</span>“对应的属性”<span class="title class_">Chuan</span>_Yu“</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">同样也可以通过.<span class="title function_">setMulti</span>()改写</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="Remap命令-批量修改"><a href="#Remap命令-批量修改" class="headerlink" title="Remap命令(批量修改)"></a>Remap命令(批量修改)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Old</span>_Provinces_ID = ee.<span class="title class_">List</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,</span><br><span class="line"><span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">27</span>,<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">34</span>,<span class="number">35</span>,<span class="number">36</span>,<span class="number">37</span>,<span class="number">38</span>,<span class="number">39</span>,<span class="number">1089</span>])</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">New</span>_Provinces_ID = ee.<span class="title class_">List</span>([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Remap = <span class="title class_">China</span>_Provinces.<span class="title function_">remap</span>(<span class="title class_">Old</span>_Provinces_ID,<span class="title class_">New</span>_Provinces_ID,<span class="string">&#x27;OBJECTID&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces_Map = <span class="title class_">China</span>_Provinces.<span class="title function_">reduceToImage</span>([<span class="string">&#x27;OBJECTID&#x27;</span>], ee.<span class="property">Reducer</span>.<span class="title function_">first</span>( ) )</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Remap_Map = <span class="title class_">China</span>_Provinces.<span class="title function_">reduceToImage</span>([<span class="string">&#x27;OBJECTID&#x27;</span>], ee.<span class="property">Reducer</span>.<span class="title function_">first</span>( ) )</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces_Map,</span><br><span class="line">&#123;<span class="attr">min</span>:<span class="number">1</span>, <span class="attr">max</span>:<span class="number">40</span>, <span class="attr">palette</span>:<span class="string">&#x27;16ff07,2901ff&#x27;</span>&#125;,</span><br><span class="line"><span class="string">&#x27;China_Provinces_Map&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Remap_Map,</span><br><span class="line">&#123;<span class="attr">min</span>:<span class="number">1</span>, <span class="attr">max</span>:<span class="number">7</span>, <span class="attr">palette</span>:<span class="string">&#x27;ff7248,fbff21,09ffe8&#x27;</span>&#125;,</span><br><span class="line"><span class="string">&#x27;China_Remap_Map&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.<span class="title function_">remap</span>()命令理解为对<span class="title class_">Feature</span>进行“批量修改”。该命令有三个参数，分别是“修改前的值”，“修改后的值”和“要修改的<span class="title class_">Key</span>”。本例的效果相当于将中国的省边界重新分为了<span class="number">7</span>类.</span><br><span class="line"></span><br><span class="line">.<span class="title function_">reduceToImage</span>()的功能是“矢量转栅格”</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="排序命令-1"><a href="#排序命令-1" class="headerlink" title="排序命令"></a>排序命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Sort_Area = <span class="title class_">China</span>_Provinces.<span class="title function_">sort</span>(<span class="string">&#x27;Shape_Area&#x27;</span>,<span class="literal">false</span>) <span class="comment">//从大到小</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Sort_Area.<span class="title function_">limit</span>(<span class="number">5</span>),&#123;<span class="attr">color</span>:<span class="string">&#x27;ff000000&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">排序命令.<span class="title function_">sort</span>()共有两个参数，一个是“排序字段”，另一个是“是否从小到大”。</span><br></pre></td></tr></table></figure>



<h4 id="Feature-Collection-的提取Geometry-命令"><a href="#Feature-Collection-的提取Geometry-命令" class="headerlink" title="Feature Collection 的提取Geometry 命令"></a>Feature Collection 的提取Geometry 命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>).<span class="title function_">limit</span>(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Geometry = <span class="title class_">China</span>_Provinces.<span class="title function_">geometry</span>()</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Geometry)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="Feature-Collection-的矢量转栅格命令"><a href="#Feature-Collection-的矢量转栅格命令" class="headerlink" title="Feature Collection 的矢量转栅格命令"></a>Feature Collection 的矢量转栅格命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_to_Image = <span class="title class_">China</span>_Provinces.<span class="title function_">reduceToImage</span>([<span class="string">&#x27;OBJECTID&#x27;</span>],ee.<span class="property">Reducer</span>.<span class="title function_">first</span>())</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_to_Image,&#123;<span class="string">&quot;min&quot;</span>:<span class="number">1</span>,<span class="string">&quot;max&quot;</span>:<span class="number">40</span>,<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;ff9c07&quot;</span>,<span class="string">&quot;f0ff1b&quot;</span>,<span class="string">&quot;1aff0b&quot;</span>]&#125;)</span><br><span class="line"></span><br><span class="line">矢量转栅格.<span class="title function_">reduceToImage</span>()共有两个参数，第一个是“依据字段”，第二个是“数值处理”。本例中我们利用ee.<span class="property">Reducer</span>.<span class="title function_">first</span>()的目的是不对数值进行任何处理。</span><br></pre></td></tr></table></figure>



<h4 id="Feature-Collection-的取首个数据命令"><a href="#Feature-Collection-的取首个数据命令" class="headerlink" title="Feature Collection 的取首个数据命令"></a>Feature Collection 的取首个数据命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Biggest_Province = ee.<span class="title class_">Feature</span>(<span class="title class_">China</span>_Provinces.<span class="title function_">sort</span>(<span class="string">&#x27;Shape_Area&#x27;</span>,<span class="literal">false</span>).<span class="title function_">first</span>())</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Biggest_Province)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Biggest_Province)</span><br><span class="line"></span><br><span class="line">取首个.<span class="title function_">first</span>()命令的常见目的是观察<span class="title class_">Feature</span> <span class="title class_">Collection</span> 中数据的属性或者结构。</span><br></pre></td></tr></table></figure>



<h4 id="Feature-Collection-转List-命令"><a href="#Feature-Collection-转List-命令" class="headerlink" title="Feature Collection 转List 命令"></a>Feature Collection 转List 命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_List = <span class="title class_">China</span>_Provinces.<span class="title function_">sort</span>(<span class="string">&#x27;Shape_Area&#x27;</span>,<span class="literal">false</span>).<span class="title function_">toList</span>(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_List)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Area</span>_No_1 = ee.<span class="title class_">Feature</span>(<span class="title class_">China</span>_List.<span class="title function_">get</span>(<span class="number">0</span>))</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Area</span>_No_3 = ee.<span class="title class_">Feature</span>(<span class="title class_">China</span>_List.<span class="title function_">get</span>(<span class="number">2</span>))</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Area</span>_No_7 = ee.<span class="title class_">Feature</span>(<span class="title class_">China</span>_List.<span class="title function_">get</span>(<span class="number">6</span>))</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Area</span>_No_1)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Area</span>_No_3)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Area</span>_No_7)</span><br><span class="line"></span><br><span class="line">前述及介绍过<span class="title class_">List</span> 是一个“数据框”。当<span class="title class_">Feature</span> <span class="title class_">Collection</span> 转为<span class="title class_">List</span> 之后，我们就可通过.<span class="title function_">get</span>()命令获取指定位置的<span class="title class_">Feature</span>。</span><br><span class="line">本例对<span class="title class_">Feature</span> <span class="title class_">Collection</span> 进行排序并转<span class="title class_">List</span> 之后，获取了中国面积大小排第<span class="number">1</span>、第<span class="number">3</span> 和第<span class="number">7</span> 的三个省。</span><br></pre></td></tr></table></figure>



<h4 id="Feature-Collection-属性统计命令"><a href="#Feature-Collection-属性统计命令" class="headerlink" title="Feature Collection 属性统计命令"></a>Feature Collection 属性统计命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Area</span>_of_No_1 = <span class="title class_">China</span>_Provinces.<span class="title function_">sort</span>(<span class="string">&#x27;Shape_Area&#x27;</span>,<span class="literal">false</span>).<span class="title function_">aggregate_first</span>(<span class="string">&#x27;Shape_Area&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Area</span>_of_Top_3 = <span class="title class_">China</span>_Provinces.<span class="title function_">sort</span>(<span class="string">&#x27;Shape_Area&#x27;</span>,<span class="literal">false</span>).<span class="title function_">limit</span>(<span class="number">3</span>)</span><br><span class="line">.<span class="title function_">aggregate_array</span>(<span class="string">&#x27;Shape_Area&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Area</span>_Status = <span class="title class_">China</span>_Provinces.<span class="title function_">aggregate_stats</span>(<span class="string">&#x27;Shape_Area&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Area</span>_Histogram = <span class="title class_">China</span>_Provinces.<span class="title function_">aggregate_histogram</span>(<span class="string">&#x27;Shape_Area&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Area</span>_of_No_1)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Area</span>_of_Top_3)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Area</span>_Status)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Area</span>_Histogram)</span><br></pre></td></tr></table></figure>



<h4 id="Feature-Collection-的-map-命令"><a href="#Feature-Collection-的-map-命令" class="headerlink" title="Feature Collection 的.map()命令"></a>Feature Collection 的.map()命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Add_Center</span> (feature)&#123;</span><br><span class="line">	<span class="keyword">return</span> feature.<span class="title function_">centroid</span>() <span class="comment">//中心点</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Center = <span class="title class_">China</span>_Provinces.<span class="title function_">map</span>(<span class="title class_">Add</span>_Center)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">China</span>_Center)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Provinces)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">China</span>_Center,&#123;<span class="attr">color</span>:<span class="string">&#x27;ff0000&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Feature</span> <span class="title class_">Collection</span> 的.<span class="title function_">map</span>()命令可以看做是一种“集合操作”，本例的目的是对所有的<span class="title class_">Feature</span> 添加中心坐标，此时可以通过<span class="keyword">function</span>(<span class="params"></span>)命令编写一个计算中心点的操作，然后利用.<span class="title function_">map</span>()命令将这个操作应用于整体<span class="title class_">Feature</span> <span class="title class_">Collection</span> 中。</span><br></pre></td></tr></table></figure>

<p>常用FeatureCollection 命令</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ee.<span class="title class_">FeatureCollection</span>() </span><br><span class="line">.<span class="title function_">randomPoints</span>() </span><br><span class="line">.<span class="title function_">filterMetadata</span>() </span><br><span class="line">.<span class="title function_">limit</span>() </span><br><span class="line">.<span class="title function_">filterDate</span>()</span><br><span class="line">.<span class="title function_">filterBounds</span>() </span><br><span class="line">.<span class="title function_">filter</span>() </span><br><span class="line">.<span class="title function_">select</span>() </span><br><span class="line">.<span class="title function_">distinct</span>() </span><br><span class="line">.<span class="title function_">union</span>()</span><br><span class="line">.<span class="title function_">merge</span>() </span><br><span class="line">.<span class="title function_">set</span>() </span><br><span class="line">.<span class="title function_">remap</span>() </span><br><span class="line">.<span class="title function_">sort</span>() </span><br><span class="line">.<span class="title function_">makeArray</span>() </span><br><span class="line">.<span class="title function_">geometry</span>()</span><br><span class="line">.<span class="title function_">reduceToImage</span>() </span><br><span class="line">.<span class="title function_">first</span>() </span><br><span class="line">.<span class="title function_">toList</span>() </span><br><span class="line">.<span class="title function_">aggregate_first</span>() </span><br><span class="line">.<span class="title function_">aggregate_array</span>()</span><br><span class="line">.<span class="property">aggregate_stats</span>/_histogram/_count/<span class="title function_">_count_distinct</span>()</span><br><span class="line">.<span class="property">aggregate_max</span>/_min/_sum/_mean/<span class="title function_">_product</span>()</span><br><span class="line">.<span class="property">aggregate_sample_var</span>/_total_var/_sample_sd/_total_sd/.<span class="title function_">map</span>()</span><br></pre></td></tr></table></figure>



<h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><p>GEE 中常见的栅格图像数据。第一种是遥感图像，包括Landsat，Sentinel 和MODIS 系列卫星的所有图像数据。第二种是地形影像，主要是90m 和30m 精度的SRTM影像，以及局部地区的高精度地形影像。第三种则是其他影像，包括土地利用图像、气象图像等。</p>
<h4 id="栅格数据的创建"><a href="#栅格数据的创建" class="headerlink" title="栅格数据的创建"></a>栅格数据的创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_1 = ee.<span class="title class_">Image</span>( <span class="number">10</span> );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_2 = ee.<span class="property">Image</span>.<span class="title function_">constant</span>( <span class="number">20</span> );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_3 = <span class="title class_">Image</span>_1.<span class="title function_">add</span>(<span class="title class_">Image</span>_2)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Image</span>_1,<span class="title class_">Image</span>_2,<span class="title class_">Image</span>_3);</span><br><span class="line"></span><br><span class="line">此时创建的栅格数据没有“分辨率”的概念，或者说此时栅格的分辨率无限小，任意位置都是指定的常数。</span><br><span class="line"></span><br><span class="line">常数栅格的创建常常见于遥感图像的时序分析，被当做方程中的常量。</span><br></pre></td></tr></table></figure>



<h4 id="掩膜分析-mask"><a href="#掩膜分析-mask" class="headerlink" title="掩膜分析(mask)"></a>掩膜分析(mask)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_DEM = ee.<span class="title class_">Image</span>( <span class="string">&#x27;CGIAR/SRTM90_V4&#x27;</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_Cropland = ee.<span class="title class_">Image</span>(<span class="string">&quot;ESA/GLOBCOVER_L4_200901_200912_V2_3&quot;</span>)</span><br><span class="line">.<span class="title function_">select</span>(<span class="string">&#x27;landcover&#x27;</span>).<span class="title function_">eq</span>(<span class="number">11</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_Masked = <span class="title class_">Image</span>_DEM.<span class="title function_">mask</span>( <span class="title class_">Image</span>_Cropland );</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Image</span>_DEM,<span class="title class_">Image</span>_Cropland,<span class="title class_">Image</span>_Masked);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.4</span>, <span class="number">34.78</span>, <span class="number">4</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Image</span>_DEM,</span><br><span class="line">&#123;<span class="string">&quot;opacity&quot;</span>:<span class="number">1</span>,<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;elevation&quot;</span>],<span class="string">&quot;min&quot;</span>:<span class="number">0</span>,<span class="string">&quot;max&quot;</span>:<span class="number">1400</span>,<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;2dff07&quot;</span>,<span class="string">&quot;ff0b0b&quot;</span>]&#125;,</span><br><span class="line"><span class="string">&#x27; Image_DEM &#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Image</span>_Cropland,</span><br><span class="line">&#123;<span class="string">&quot;opacity&quot;</span>:<span class="number">1</span>,<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;landcover&quot;</span>],<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;ffffff&quot;</span>,<span class="string">&quot;fbff2d&quot;</span>]&#125;,</span><br><span class="line"><span class="string">&#x27; Image_Cropland &#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Image</span>_Masked,</span><br><span class="line">&#123;<span class="string">&quot;opacity&quot;</span>:<span class="number">1</span>,<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;elevation&quot;</span>],<span class="string">&quot;min&quot;</span>:<span class="number">0</span>,<span class="string">&quot;max&quot;</span>:<span class="number">1400</span>,<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;2dff07&quot;</span>,<span class="string">&quot;ff0b0b&quot;</span>]&#125;,</span><br><span class="line"><span class="string">&#x27;Image_Masked &#x27;</span>);</span><br></pre></td></tr></table></figure>



<h4 id="栅格裁剪"><a href="#栅格裁剪" class="headerlink" title="栅格裁剪"></a>栅格裁剪</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">CQ</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line">.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>([<span class="number">106.8</span>, <span class="number">29.3</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">CQ_DEM</span> = <span class="variable constant_">DEM</span>.<span class="title function_">clip</span>(<span class="variable constant_">CQ</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.8</span>, <span class="number">29.3</span>,<span class="number">7</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">CQ_DEM</span>,&#123;<span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">2000</span>&#125;)</span><br><span class="line"></span><br><span class="line">栅格图像的掩膜操作只是给<span class="variable constant_">GEE</span> 指出图像的哪些部分不参加运算。</span><br><span class="line">而栅格的裁剪.<span class="title function_">clip</span>()则是直接将裁剪数据意外的部分删除。但在多数情况下，两者可以互用。</span><br></pre></td></tr></table></figure>



<h4 id="栅格选择创建"><a href="#栅格选择创建" class="headerlink" title="栅格选择创建"></a>栅格选择创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Glob</span>_Cover = ee.<span class="title class_">Image</span>(<span class="string">&quot;ESA/GLOBCOVER_L4_200901_200912_V2_3&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Land</span>_cover = <span class="title class_">Glob</span>_Cover.<span class="title function_">select</span>(<span class="string">&#x27;landcover&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Land</span>_cover_quality = <span class="title class_">Glob</span>_Cover.<span class="title function_">select</span>(<span class="string">&#x27;qa&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">107.56</span>, <span class="number">34.79</span>,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Land</span>_cover)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Land</span>_cover_quality)</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">GLOBCOVER_L4_2009</span> 数据包含两个波段，一个波段是“landcover”，用来说明土地利用类型。</span><br><span class="line">另一个波段是“qa”，用来说明某位置的数据来源(<span class="number">0</span> 表示来源于<span class="variable constant_">GLOBCOVER</span> 项目，<span class="number">1</span> 表示来源于其他数据集)。</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="波段裁取创建"><a href="#波段裁取创建" class="headerlink" title="波段裁取创建"></a>波段裁取创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> L8_One = ee.<span class="title class_">Image</span>(<span class="variable constant_">L8</span>.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.4958</span>, <span class="number">29.5856</span>)).<span class="title function_">first</span>())</span><br><span class="line"><span class="keyword">var</span> L8_Slice = L8_One.<span class="title function_">slice</span>(<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line"><span class="title function_">print</span>(L8_One,L8_Slice)</span><br><span class="line"></span><br><span class="line">波段裁取命令的两个参数分别表示裁取的起始和结束位置，由于代码语言中是从<span class="number">0</span> 开始计数的，所以本例中的<span class="number">2</span> 和<span class="number">5</span> 分别表示第<span class="number">3</span> 和第<span class="number">6</span> 个位置。同时也可以看出，波段裁取只执行到结束位置的前一个位置。 （左闭右开）</span><br></pre></td></tr></table></figure>



<h4 id="栅格的添加"><a href="#栅格的添加" class="headerlink" title="栅格的添加"></a>栅格的添加</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> L8_One = ee.<span class="title class_">Image</span>(<span class="variable constant_">L8</span>.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.4958</span>, <span class="number">29.5856</span>)).<span class="title function_">first</span>())</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_B5</span> = L8_One.<span class="title function_">select</span>(<span class="string">&#x27;B5&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_B4</span> = L8_One.<span class="title function_">select</span>(<span class="string">&#x27;B4&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_B5_4</span> = <span class="variable constant_">L8_B5</span>.<span class="title function_">addBands</span>(<span class="variable constant_">L8_B4</span>)</span><br><span class="line"><span class="title function_">print</span>(<span class="variable constant_">L8_B5</span>,<span class="variable constant_">L8_B4</span>,<span class="variable constant_">L8_B5_4</span>)</span><br><span class="line"></span><br><span class="line">添加波段</span><br></pre></td></tr></table></figure>



<h4 id="栅格的重投影"><a href="#栅格的重投影" class="headerlink" title="栅格的重投影"></a>栅格的重投影</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> L8_One = ee.<span class="title class_">Image</span>(<span class="variable constant_">L8</span>.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106</span>,<span class="number">29</span>)).<span class="title function_">first</span>());</span><br><span class="line"><span class="keyword">var</span> L8_Reproject = L8_One.<span class="title function_">reproject</span>(<span class="string">&quot;EPSG:3857&quot;</span>,<span class="literal">null</span>,<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(L8_One.<span class="title function_">select</span>(<span class="string">&quot;B1&quot;</span>).<span class="title function_">projection</span>(),L8_Reproject.<span class="title function_">projection</span>())</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106</span>,<span class="number">29</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(L8_One,&#123;<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;B5&quot;</span>,<span class="string">&quot;B4&quot;</span>,<span class="string">&quot;B3&quot;</span>],<span class="string">&quot;min&quot;</span>:<span class="number">10586</span>,<span class="string">&quot;max&quot;</span>:<span class="number">18154</span>&#125;,<span class="string">&quot;L8_One_30m&quot;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(L8_Reproject,&#123;<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;B5&quot;</span>,<span class="string">&quot;B4&quot;</span>,<span class="string">&quot;B3&quot;</span>],<span class="string">&quot;min&quot;</span>:<span class="number">10586</span>,<span class="string">&quot;max&quot;</span>:<span class="number">18154</span>&#125;,<span class="string">&quot;L8_Reproject_30m&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这里注意，矢量的重投影命令是.<span class="title function_">transpose</span>()，而栅格的重投影命令式.<span class="title class_">Reproject</span>(),两者的操作目的是相同的，但却是不可混用的两个命令。</span><br></pre></td></tr></table></figure>



<h4 id="栅格的色彩转换"><a href="#栅格的色彩转换" class="headerlink" title="栅格的色彩转换"></a>栅格的色彩转换</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> L8_One = ee.<span class="title class_">Image</span>(<span class="variable constant_">L8</span>.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.4958</span>, <span class="number">29.5856</span>)).<span class="title function_">first</span>())</span><br><span class="line">.<span class="title function_">slice</span>(<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">.<span class="title function_">unitScale</span>(<span class="number">0</span>,<span class="number">32468</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_HSV</span> = L8_One.<span class="title function_">rgbToHsv</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_RGB</span> = <span class="variable constant_">L8_HSV</span>.<span class="title function_">hsvToRgb</span>()</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(L8_One,<span class="variable constant_">L8_HSV</span>,<span class="variable constant_">L8_RGB</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.5</span>, <span class="number">29.5</span>,<span class="number">9</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(L8_One,&#123;&#125;,<span class="string">&#x27;Origin&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">L8_HSV</span>,&#123;&#125;,<span class="string">&#x27;HSV&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">L8_RGB</span>,&#123;&#125;,<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rgbToHsv</span><br><span class="line">hsvToRgb</span><br></pre></td></tr></table></figure>



<h4 id="栅格数字格式转换"><a href="#栅格数字格式转换" class="headerlink" title="栅格数字格式转换"></a>栅格数字格式转换</h4><p><strong>与前述例子相同</strong></p>
<table>
<thead>
<tr>
<th align="center">.uint8 		.uint16 		.uint32		 .uint64 		.int8</th>
</tr>
</thead>
<tbody><tr>
<td align="center">.toUnit8 		toUint16		 toUint32		 toUint64		 toInt8</td>
</tr>
<tr>
<td align="center">.int16		 .int32		 .int64 		.long 		.float 		.double</td>
</tr>
<tr>
<td align="center">.toInt16		.toInt32		 .toInt64 		.toLong 		.toFloat 		.toDouble</td>
</tr>
</tbody></table>
<h4 id="属性改写-1"><a href="#属性改写-1" class="headerlink" title="属性改写"></a>属性改写</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> L8_One = <span class="variable constant_">L8</span>.<span class="title function_">first</span>().<span class="title function_">set</span>(<span class="string">&#x27;note&#x27;</span>,<span class="string">&quot;This image was created by &#x27;rgbToHsv()&#x27;&quot;</span>)</span><br><span class="line">.<span class="title function_">setMulti</span>(&#123;<span class="string">&#x27;author&#x27;</span>:<span class="string">&#x27;Jinzhu Wang&#x27;</span>, <span class="string">&#x27;mood&#x27;</span>:<span class="string">&#x27;Not Bad&#x27;</span>&#125;)</span><br><span class="line"><span class="title function_">print</span>(L8_One)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="Remap命令"><a href="#Remap命令" class="headerlink" title="Remap命令"></a>Remap命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Old</span>_Id = ee.<span class="title class_">List</span>([<span class="number">11</span>,<span class="number">14</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>,<span class="number">90</span>,<span class="number">100</span>,<span class="number">110</span>,<span class="number">120</span>,<span class="number">130</span>,<span class="number">140</span>,<span class="number">150</span>,<span class="number">160</span>,<span class="number">170</span>,<span class="number">180</span>,<span class="number">190</span>,<span class="number">200</span>,<span class="number">210</span>,<span class="number">220</span>,<span class="number">230</span>])</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">New</span>_Id = ee.<span class="title class_">List</span>([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Land</span>_Cover = ee.<span class="title class_">Image</span>(<span class="string">&quot;ESA/GLOBCOVER_L4_200901_200912_V2_3&quot;</span>).<span class="title function_">select</span>(<span class="string">&#x27;landcover&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Land</span>_Remap = <span class="title class_">Land</span>_Cover.<span class="title function_">remap</span>(<span class="title class_">Old</span>_Id,<span class="title class_">New</span>_Id,<span class="number">8</span>,<span class="string">&#x27;landcover&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">102.919</span>, <span class="number">30.199</span>,<span class="number">6</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Land</span>_Cover)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Land</span>_Remap,&#123;<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;f1ff27&quot;</span>,<span class="string">&quot;35ce48&quot;</span>,<span class="string">&quot;07fff3&quot;</span>,<span class="string">&quot;f017ff&quot;</span>,<span class="string">&quot;e78845&quot;</span>,<span class="string">&quot;250bff&quot;</span>,<span class="string">&quot;ffffff&quot;</span>,<span class="string">&quot;ffffff&quot;</span>]&#125;,</span><br><span class="line"><span class="string">&#x27;remaped&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">上述remap 命令相当于对栅格value 值的“重分类”操作。</span><br><span class="line">通过remap操作，原始土地利用分类图像被重新归纳成了“耕、林、水、草、建等”<span class="number">9</span>种地类</span><br></pre></td></tr></table></figure>



<h4 id="栅格区间赋值"><a href="#栅格区间赋值" class="headerlink" title="栅格区间赋值"></a>栅格区间赋值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Land</span>_Cover = ee.<span class="title class_">Image</span>(<span class="string">&quot;ESA/GLOBCOVER_L4_200901_200912_V2_3&quot;</span>).<span class="title function_">select</span>(<span class="string">&#x27;landcover&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">High</span>_Land = <span class="title class_">Land</span>_Cover.<span class="title function_">where</span>(<span class="variable constant_">DEM</span>.<span class="title function_">lt</span>(<span class="number">4000</span>),<span class="number">0</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">88.96</span>, <span class="number">33.77</span>,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">DEM</span>.<span class="title function_">lt</span>(<span class="number">4000</span>))</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">High</span>_Land)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">区间赋值.<span class="title function_">where</span>(<span class="variable constant_">DEM</span>，<span class="title function_">lt</span>(<span class="number">4000</span>),<span class="number">0</span>)的含义是将高程小于<span class="number">4000</span>的地区赋值为<span class="number">0</span></span><br><span class="line"></span><br><span class="line">.<span class="title function_">clapm</span>()的功能是截取某一段区间的值，大于或小于这个区间的值都以最大或最小值处理，例如<span class="variable constant_">DEM</span>.<span class="title function_">clamp</span>(<span class="number">450</span>,<span class="number">759</span>)的作用就是将高程大于<span class="number">795</span>米的地区赋值为<span class="number">795</span>，小于<span class="number">450</span>的地区赋值为<span class="number">450</span></span><br></pre></td></tr></table></figure>



<h4 id="栅格一值化"><a href="#栅格一值化" class="headerlink" title="栅格一值化"></a>栅格一值化</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> L8_One = ee.<span class="title class_">Image</span>(ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1&quot;</span>)</span><br><span class="line">.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.5776</span>, <span class="number">29.5577</span>)).<span class="title function_">first</span>());</span><br><span class="line"><span class="keyword">var</span> L8_Unitscale = L8_One.<span class="title function_">unitScale</span>(<span class="number">0</span>,<span class="number">32767</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(L8_One,L8_Unitscale)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(L8_One, &#123;<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;B5&quot;</span>,<span class="string">&quot;B4&quot;</span>,<span class="string">&quot;B3&quot;</span>],<span class="string">&quot;max&quot;</span>:<span class="number">30000</span>&#125;)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(L8_Unitscale, &#123;<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;B5&quot;</span>,<span class="string">&quot;B4&quot;</span>,<span class="string">&quot;B3&quot;</span>],<span class="string">&quot;max&quot;</span>:<span class="number">0.92</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">一值化的功能在于将给定区间内的数值范围转换为<span class="number">0</span>-<span class="number">1</span> 的区间，</span><br><span class="line">当对原图像进行一值化后，新图像显示范围最大值<span class="number">0.92</span> 与原图像显示范围最大值<span class="number">30000</span> 是相同的，因为<span class="number">30000</span>/<span class="number">32767</span> = <span class="number">0.92</span>。</span><br></pre></td></tr></table></figure>



<h4 id="栅格插值"><a href="#栅格插值" class="headerlink" title="栅格插值"></a>栅格插值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Add_Center</span> (feature)&#123;</span><br><span class="line">	<span class="keyword">return</span> ee.<span class="title class_">Geometry</span>(feature.<span class="title function_">centroid</span>())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Provinces</span>_Centers = <span class="title class_">China</span>_Provinces.<span class="title function_">map</span>(<span class="title class_">Add</span>_Center)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Center</span>_Distance = <span class="title class_">Provinces</span>_Centers.<span class="title function_">distance</span>(<span class="number">200000</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Distance</span>_Interpolate = <span class="title class_">Center</span>_Distance.<span class="title function_">interpolate</span>(</span><br><span class="line">[ <span class="number">0</span>, <span class="number">50000</span>, <span class="number">100000</span>, <span class="number">150000</span>, <span class="number">200000</span> ],</span><br><span class="line">[ <span class="number">0</span>, <span class="number">25</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">75</span> ], <span class="string">&#x27;extrapolate&#x27;</span> );</span><br><span class="line">    </span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">Provinces</span>_Centers,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Center</span>_Distance,&#123;<span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">200000</span>&#125;,<span class="string">&#x27;origin&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Distance</span>_Interpolate,&#123;<span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">100</span>&#125;,<span class="string">&#x27;interpolated&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Provinces</span>_Centers, &#123;<span class="attr">color</span>:<span class="string">&#x27;0000ff&#x27;</span>&#125;,<span class="string">&#x27;centers&#x27;</span>)</span><br><span class="line"></span><br><span class="line">注意插值方式为“extrapolate”，这种插值的效果是按照.<span class="title function_">interpolate</span>()的第二个参数值来确定插值大小，相当于分阶段的线性运算。</span><br></pre></td></tr></table></figure>



<h4 id="栅格的比较筛选"><a href="#栅格的比较筛选" class="headerlink" title="栅格的比较筛选"></a>栅格的比较筛选</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> night_Lights = ee.<span class="title class_">Image</span>(<span class="string">&#x27;NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182013&#x27;</span>)</span><br><span class="line">.<span class="title function_">select</span>(<span class="string">&#x27;stable_lights&#x27;</span>).<span class="title function_">clip</span>(<span class="title class_">China</span>);</span><br><span class="line"><span class="keyword">var</span> urban = night_Lights.<span class="title function_">gte</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">115.218</span>, <span class="number">33.697</span>, <span class="number">8</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(urban, &#123;<span class="string">&quot;opacity&quot;</span>:<span class="number">0.33</span>,<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;stable_lights&quot;</span>],<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;171801&quot;</span>,<span class="string">&quot;fbff0f&quot;</span>]&#125;,</span><br><span class="line"><span class="string">&#x27;Nighttime Lights&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">比较筛选命令还有：</span><br><span class="line">等于（.<span class="property">eq</span>）,不等于（.<span class="property">neq</span>),大于（.<span class="property">gt</span>),大于等于（.<span class="property">gte</span>),小于（.<span class="property">lt</span>),小于等于（.<span class="property">lte</span>)</span><br></pre></td></tr></table></figure>



<h4 id="栅格的逻辑运算"><a href="#栅格的逻辑运算" class="headerlink" title="栅格的逻辑运算"></a>栅格的逻辑运算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)；<span class="comment">//导入中国省份矢量</span></span><br><span class="line"><span class="keyword">var</span> night_Lights = ee.<span class="title class_">Image</span>(<span class="string">&#x27;NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182013&#x27;</span>)</span><br><span class="line">.<span class="title function_">select</span>(<span class="string">&#x27;stable_lights&#x27;</span>).<span class="title function_">clip</span>(<span class="title class_">China</span>);<span class="comment">//导入夜光数据，选择属性为stable_lights，裁剪区域为中国</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> urban = night_Lights.<span class="title function_">gte</span>(<span class="number">20</span>) <span class="comment">//城市的夜光值大于20</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Low</span>_Area = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>).<span class="title function_">lt</span>(<span class="number">200</span>).<span class="title function_">clip</span>(<span class="title class_">China</span>)<span class="comment">//导入高程，筛选小于20，裁剪为中国</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Low</span>_Urban = urban.<span class="title function_">and</span>(<span class="title class_">Low</span>_Area) <span class="comment">//低海拔且夜光值大于20的地区</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Low</span>_Area,urban)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">115.218</span>, <span class="number">33.697</span>, <span class="number">4</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(night_Lights)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Low</span>_Area)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Low</span>_Urban);</span><br></pre></td></tr></table></figure>



<h4 id="栅格数学运算"><a href="#栅格数学运算" class="headerlink" title="栅格数学运算"></a>栅格数学运算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>)</span><br><span class="line">.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.5749</span>, <span class="number">29.5588</span>))</span><br><span class="line">.<span class="title function_">first</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">B5</span> = ee.<span class="title class_">Image</span>(<span class="variable constant_">L8</span>.<span class="title function_">select</span>(<span class="string">&#x27;B5&#x27;</span>))</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">B4</span> = ee.<span class="title class_">Image</span>(<span class="variable constant_">L8</span>.<span class="title function_">select</span>(<span class="string">&#x27;B4&#x27;</span>))</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">B3</span> = ee.<span class="title class_">Image</span>(<span class="variable constant_">L8</span>.<span class="title function_">select</span>(<span class="string">&#x27;B3&#x27;</span>))</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">NDVI</span> = <span class="variable constant_">B5</span>.<span class="title function_">subtract</span>(<span class="variable constant_">B4</span>).<span class="title function_">divide</span>(<span class="variable constant_">B5</span>.<span class="title function_">add</span>(<span class="variable constant_">B3</span>))</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="variable constant_">NDVI</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">NDVI</span>,</span><br><span class="line">&#123;<span class="string">&quot;min&quot;</span>:-<span class="number">1</span>,<span class="string">&quot;max&quot;</span>:<span class="number">1</span>,<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;0f01e2&quot;</span>,<span class="string">&quot;ff9d93&quot;</span>,<span class="string">&quot;fff707&quot;</span>,<span class="string">&quot;11ff2e&quot;</span>,<span class="string">&quot;04ce14&quot;</span>]&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="栅格的表达式运算"><a href="#栅格的表达式运算" class="headerlink" title="栅格的表达式运算"></a>栅格的表达式运算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_RT&quot;</span>)</span><br><span class="line">.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.5749</span>, <span class="number">29.5588</span>))</span><br><span class="line">.<span class="title function_">first</span>()</span><br><span class="line"><span class="keyword">var</span> evi = <span class="variable constant_">L8</span>.<span class="title function_">expression</span>(</span><br><span class="line"><span class="string">&#x27;2.5 * ((NIR - RED) / (NIR + 6 * RED - 7.5 * BLUE + 1))&#x27;</span>, &#123;</span><br><span class="line"><span class="string">&#x27;NIR&#x27;</span>: <span class="variable constant_">L8</span>.<span class="title function_">select</span>(<span class="string">&#x27;B5&#x27;</span>),</span><br><span class="line"><span class="string">&#x27;RED&#x27;</span>: <span class="variable constant_">L8</span>.<span class="title function_">select</span>(<span class="string">&#x27;B4&#x27;</span>),</span><br><span class="line"><span class="string">&#x27;BLUE&#x27;</span>: <span class="variable constant_">L8</span>.<span class="title function_">select</span>(<span class="string">&#x27;B2&#x27;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(evi)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(evi,</span><br><span class="line">&#123;<span class="string">&quot;min&quot;</span>:-<span class="number">1</span>,<span class="string">&quot;max&quot;</span>:<span class="number">1</span>,<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;0f01e2&quot;</span>,<span class="string">&quot;ff9d93&quot;</span>,<span class="string">&quot;fff707&quot;</span>,<span class="string">&quot;11ff2e&quot;</span>,<span class="string">&quot;04ce14&quot;</span>]&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">表达式运算命令有两个参数，第一个参数以文本形式描绘出运算规则，第二个参数以字</span><br><span class="line">典形式制定运算规则中变量制定的具体波段。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="栅格的位运算"><a href="#栅格的位运算" class="headerlink" title="栅格的位运算"></a>栅格的位运算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_1 = ee.<span class="title class_">Image</span>( <span class="number">1</span> );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Image</span>_2 = ee.<span class="title class_">Image</span>( <span class="number">2</span> );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Bit</span>_And = <span class="title class_">Image</span>_1.<span class="title function_">bitwiseAnd</span>( <span class="title class_">Image</span>_2 );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Bit</span>_Or = <span class="title class_">Image</span>_1.<span class="title function_">bitwiseOr</span>( <span class="title class_">Image</span>_2 );</span><br><span class="line">print ( <span class="string">&#x27;Image of bitwise 1 and 2 =&#x27;</span>, <span class="title class_">Bit</span>_And );</span><br><span class="line">print ( <span class="string">&#x27;Image of bitwise 1 or 2 =&#x27;</span>, <span class="title class_">Bit</span>_Or );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Image</span>_1, <span class="literal">null</span>, <span class="string">&#x27;Image of 1s&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Image</span>_2, <span class="literal">null</span>, <span class="string">&#x27;Image of 2s&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Bit</span>_And, <span class="literal">null</span>, <span class="string">&#x27;Image of Bits from Both&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Bit</span>_Or , <span class="literal">null</span>, <span class="string">&#x27;Image of Bits from Either&#x27;</span> );</span><br><span class="line"></span><br><span class="line">栅格图像的位运算在本质上与数字的位运算是相同的，即都是将十进制数字转换成二进制数字后，通过对相同位置的二进制数字进行逻辑对比得到最终结果。</span><br><span class="line"></span><br><span class="line">位运算在栅格中的主要作用是用作去云处理，其原理是(主要针对<span class="title class_">Landsat</span> 系列数据)遥感图像每个像素都存在类似“头文件”的十几个字节的数据，其中有若干字节的数据可以表示这个像素是否被云层覆盖(<span class="number">0</span> 代表无云，<span class="number">1</span> 代表有云)，对部分数据进行位运算筛选即可得到去云目的。</span><br></pre></td></tr></table></figure>

<p>位运算</p>
<p>bitwiseAnd    bitwiseOr    bitwiseXor     bitwiseNot    leftShift     rightShift<br>bitwise_and   bitwise_or   bitwise_xor   bitwise_not   left_shift    right_shift</p>
<h4 id="栅格微分操作"><a href="#栅格微分操作" class="headerlink" title="栅格微分操作"></a>栅格微分操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">OldIMAGE</span> = ee.<span class="title class_">Image</span>( <span class="string">&#x27;CGIAR/SRTM90_V4&#x27;</span> );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">NewIMAGE</span> = <span class="title class_">OldIMAGE</span>.<span class="title function_">derivative</span>( );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.4448</span>, <span class="number">29.5684</span>,<span class="number">10</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">NewIMAGE</span>, &#123;<span class="attr">bands</span>:[<span class="string">&#x27;elevation_x&#x27;</span>], <span class="attr">min</span>:-<span class="number">90</span>, <span class="attr">max</span>:<span class="number">90</span> &#125;, <span class="string">&#x27;Slope from Left to Right&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">NewIMAGE</span>, &#123;<span class="attr">bands</span>:[<span class="string">&#x27;elevation_y&#x27;</span>], <span class="attr">min</span>:-<span class="number">90</span>, <span class="attr">max</span>:<span class="number">90</span> &#125;, <span class="string">&#x27;Slope from Top to Bottom&#x27;</span> );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">该命令的功能是计算图像像素值在<span class="title function_">X</span>(横)和<span class="title function_">Y</span>(纵)方向上的数值变化率。将两者进行</span><br><span class="line"><span class="title function_">atan</span>()运算，并且求取运算后两值平方和的平方根就得到了坡度。</span><br></pre></td></tr></table></figure>



<h4 id="栅格的地形操作"><a href="#栅格的地形操作" class="headerlink" title="栅格的地形操作"></a>栅格的地形操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>( <span class="string">&#x27;CGIAR/SRTM90_V4&#x27;</span> );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Terrain</span> = ee.<span class="property">Terrain</span>.<span class="title function_">products</span>( <span class="variable constant_">DEM</span> );</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>( <span class="number">106.371</span>, <span class="number">29.6188</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="variable constant_">DEM</span>, &#123; <span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">2000</span>,<span class="attr">palette</span>:<span class="string">&#x27;000099,dddd00&#x27;</span>&#125;, <span class="string">&#x27;Elevation&#x27;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Terrain</span>,&#123;<span class="attr">bands</span>:[<span class="string">&#x27;slope&#x27;</span>], <span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">90</span>,<span class="attr">palette</span>:<span class="string">&#x27;000000,ff0000&#x27;</span> &#125;, <span class="string">&#x27;Slope&#x27;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Terrain</span>,&#123;<span class="attr">bands</span>:[<span class="string">&#x27;aspect&#x27;</span>], <span class="attr">palette</span>:<span class="string">&#x27;00ff00,0000ff,00ff00&#x27;</span> &#125;,<span class="string">&#x27;Aspect&#x27;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Terrain</span>,&#123;<span class="attr">bands</span>:[<span class="string">&#x27;hillshade&#x27;</span>],<span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">255</span>,&#125;, <span class="string">&#x27;Hillshading&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p>ee.reducerRegion()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//缩减是采用任意数量的输入（例如给定区域中图像的所有像素）并计算一个或多个固定输出的任何过程。 结果是一个包含计算值的字典，在本例中是该区域中的最大像素值。</span></span><br><span class="line"><span class="comment">//缩减器，使用计算最大像素值得缩减器缩小到给定区域内得图像。 eg.此处是将poly区域内影像空间分辨率reducer到200m</span></span><br><span class="line">ee.<span class="title function_">reducerRegion</span>(</span><br><span class="line">	reducer：ee.<span class="property">Reducer</span>.<span class="title function_">max</span>(),</span><br><span class="line">	<span class="attr">geomtry</span>:poly,</span><br><span class="line">    <span class="attr">scale</span>:<span class="number">200</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<p>join函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//join函数得基本格式是join.apply(),该命令有三个参数，分别是左侧数据集，右侧数据集和连接条件，其中连接条件是一个筛选器ee.Filter()。对于筛选器来说，需要制定的参数包括“左侧数据集连接词”，“右侧数据集连接词”和“筛选条件”。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ee.ImageCollection.fromImages</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将多个list合并为一个imageCollection，返回包含给定图像的图像集合imageCollection。</span></span><br><span class="line">ee.<span class="property">ImageCollection</span>.<span class="title function_">fromImages</span>()</span><br></pre></td></tr></table></figure>



<p>Reducer：Reducer是GEE中按照时间、空间、波段等进行整合数据的方法；类似于从部分到整体。</p>
<h2 id="案例：NDWI计算（landsat8）"><a href="#案例：NDWI计算（landsat8）" class="headerlink" title="案例：NDWI计算（landsat8）"></a>案例：NDWI计算（landsat8）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//landsat NDWI demo</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">NDWI_V1</span>(<span class="params">img</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> nir = img.<span class="title function_">select</span>(<span class="string">&quot;B5&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> green = img.<span class="title function_">select</span>(<span class="string">&quot;B3&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> ndwi = img.<span class="title function_">expression</span>(</span><br><span class="line">    <span class="string">&quot;(Green-Nir)/(Green+Nir)&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;Green&quot;</span>:green,</span><br><span class="line">      <span class="string">&quot;Nir&quot;</span>:nir</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> ndwi;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//landsat8 image and roi</span></span><br><span class="line"><span class="keyword">var</span> l8_col = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC8_L1T_TOA&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> roi = ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>([<span class="number">124.1455078125</span>,<span class="number">45.644768217751924</span>]);</span><br><span class="line"><span class="keyword">var</span> img = ee.<span class="title class_">Image</span>(l8_col.<span class="title function_">filterBounds</span>(roi)</span><br><span class="line">                        .<span class="title function_">filterDate</span>(<span class="string">&quot;2017-02-01&quot;</span>, <span class="string">&quot;2017-09-23&quot;</span>)</span><br><span class="line">                        .<span class="title function_">first</span>());</span><br><span class="line"><span class="keyword">var</span> ndwi = <span class="title function_">NDWI_V1</span>(img);</span><br><span class="line"><span class="keyword">var</span> visParam = &#123;<span class="string">&quot;min&quot;</span>:-<span class="number">0.5</span>, <span class="string">&quot;max&quot;</span>:<span class="number">0.5</span>,<span class="attr">palette</span>:[<span class="string">&#x27;00FFFF&#x27;</span>, <span class="string">&#x27;0000FF&#x27;</span>]&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(img,&#123;<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;B4&quot;</span>, <span class="string">&quot;B3&quot;</span>, <span class="string">&quot;B2&quot;</span>],<span class="string">&quot;max&quot;</span>:<span class="number">0.3</span>&#125;,<span class="string">&quot;raw_img&quot;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(ndwi,visParam,<span class="string">&quot;ndwi&quot;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(roi,<span class="number">9</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//show charts</span></span><br><span class="line"><span class="keyword">var</span> ndwi_list = l8_col.<span class="title function_">filterDate</span>(<span class="string">&quot;2017-01-01&quot;</span>, <span class="string">&quot;2017-09-23&quot;</span>)</span><br><span class="line">                      .<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">image</span>)&#123;</span><br><span class="line">                        <span class="keyword">var</span> cloud = ee.<span class="property">Algorithms</span>.<span class="property">Landsat</span>.<span class="title function_">simpleCloudScore</span>(image).<span class="title function_">select</span>(<span class="string">&quot;cloud&quot;</span>);</span><br><span class="line">                        <span class="keyword">var</span> mask = cloud.<span class="title function_">lte</span>(<span class="number">20</span>);</span><br><span class="line">                        <span class="keyword">var</span> ndwi = image.<span class="title function_">normalizedDifference</span>([<span class="string">&quot;B3&quot;</span>,<span class="string">&quot;B5&quot;</span>]).<span class="title function_">rename</span>(<span class="string">&#x27;NDWI&#x27;</span>);</span><br><span class="line">                        <span class="keyword">return</span> image.<span class="title function_">addBands</span>(ndwi).<span class="title function_">updateMask</span>(mask);</span><br><span class="line">                      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> chart1 = ui.<span class="property">Chart</span>.<span class="property">image</span>.<span class="title function_">series</span>(&#123;</span><br><span class="line">  <span class="attr">imageCollection</span>:ndwi_list.<span class="title function_">select</span>(<span class="string">&quot;NDWI&quot;</span>),</span><br><span class="line">  <span class="attr">region</span>:roi,</span><br><span class="line">  <span class="attr">reducer</span>:ee.<span class="property">Reducer</span>.<span class="title function_">mean</span>(),</span><br><span class="line">  <span class="attr">scale</span>:<span class="number">30</span></span><br><span class="line">&#125;).<span class="title function_">setOptions</span>(&#123;<span class="string">&quot;title&quot;</span>:<span class="string">&quot;NDWI IMAGE SERIES&quot;</span>&#125;);</span><br><span class="line"><span class="title function_">print</span>(chart1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> chart2 =  ui.<span class="property">Chart</span>.<span class="property">image</span>.<span class="title function_">doySeries</span>(&#123;</span><br><span class="line">  <span class="attr">imageCollection</span>:ndwi_list.<span class="title function_">select</span>(<span class="string">&quot;NDWI&quot;</span>),</span><br><span class="line">  <span class="attr">region</span>:roi,</span><br><span class="line">  <span class="attr">regionReducer</span>:ee.<span class="property">Reducer</span>.<span class="title function_">mean</span>(),</span><br><span class="line">  <span class="attr">scale</span>:<span class="number">30</span></span><br><span class="line">&#125;).<span class="title function_">setOptions</span>(&#123;<span class="string">&quot;title&quot;</span>:<span class="string">&quot;ROI NDWI DAY SERIES&quot;</span>&#125;)</span><br><span class="line"><span class="title function_">print</span>(chart2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">图表是生成的为<span class="variable constant_">NDWI</span>值序列</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">函数.<span class="title function_">normalizedDifference</span>([<span class="string">&quot;b1&quot;</span>,<span class="string">&quot;b2&quot;</span>]) 计算<span class="variable constant_">NDVI</span></span><br></pre></td></tr></table></figure>



<h4 id="栅格的山体阴影操作-Map组件"><a href="#栅格的山体阴影操作-Map组件" class="headerlink" title="栅格的山体阴影操作&#x2F; Map组件"></a>栅格的山体阴影操作&#x2F; Map组件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>( <span class="string">&#x27;CGIAR/SRTM90_V4&#x27;</span> );</span><br><span class="line"><span class="keyword">var</span> DEM_Mercator = <span class="variable constant_">DEM</span>.<span class="title function_">reproject</span>( <span class="string">&#x27;EPSG:3857&#x27;</span>, <span class="literal">null</span>, <span class="number">30</span> );</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Shadow</span>_1 = ee.<span class="property">Terrain</span>.<span class="title function_">hillShadow</span>( DEM_Mercator, <span class="number">315.0</span>, <span class="number">75.0</span>,<span class="number">0</span>,<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Shadow</span>_2 = ee.<span class="property">Terrain</span>.<span class="title function_">hillShadow</span>( DEM_Mercator, <span class="number">315.0</span>, <span class="number">70.0</span>,<span class="number">0</span>,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>( <span class="number">106.5568</span>, <span class="number">29.5527</span>, <span class="number">12</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="variable constant_">DEM</span>, &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">1500</span>, <span class="attr">opacity</span>:<span class="number">0.7</span>, <span class="attr">palette</span>:<span class="string">&#x27;0000ff,ff0000&#x27;</span>&#125;, <span class="string">&#x27;Elevation&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Shadow</span>_1, &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">1</span>, <span class="attr">opacity</span>:<span class="number">0.3</span>&#125;, <span class="string">&#x27;Longer Shadows&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Shadow</span>_2, &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">1</span>, <span class="attr">opacity</span>:<span class="number">0.3</span>&#125;, <span class="string">&#x27;Shorter Shadows&#x27;</span> );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ee.<span class="property">Terrain</span>.<span class="property">hillShadow</span> 能更加个性化的调整阴影状态，该命令一共有<span class="number">5</span> 个参数，分别是“图像”，“天顶角”，“太阳高度角”，“邻域大小”和“是否磁滞”。其中“是否磁滞”如果输入为<span class="literal">true</span>，会降低阴影的准确性，但是会提高阴影的显示效果。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.<span class="title function_">setcenter</span>(lon，lat, zoom,dragging,forceChange)函数是设置地图中心位置，</span><br><span class="line">lonlat是中心xy坐标，zoom为缩放比例，dragging &#123;<span class="title class_">Boolean</span>&#125; 指定是否触发movestart/end 事件 ， forceZoomChange &#123;<span class="title class_">Boolean</span>&#125; 指定是否触发zoomchange事件，依赖于baseLayer的变化</span><br><span class="line"></span><br><span class="line">.<span class="title function_">centerObject</span>(object, zoom) 以object对象范围居中显示，同时设置缩放级别为zoom</span><br><span class="line"></span><br><span class="line"><span class="title function_">addLayer</span>(eeObject, visParams, name, shown, opacity) 添加图层到<span class="title class_">Map</span>上</span><br><span class="line">min,max这些表示要在屏幕上显示的波段值的下限和上限。默认情况下，提供的最小值映射为黑色，提供的最大值映射为白色。最小值和最大值之间的值线性映射为黑色和白色之间的灰度。</span><br></pre></td></tr></table></figure>



<h4 id="栅格填洼操作"><a href="#栅格填洼操作" class="headerlink" title="栅格填洼操作"></a>栅格填洼操作</h4><p>填充表面栅格中的洼地以移除数据中的小缺陷。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>(<span class="string">&#x27;CGIAR/SRTM90_V4&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> DEM_Fill = ee.<span class="property">Terrain</span>.<span class="title function_">fillMinima</span>(<span class="variable constant_">DEM</span>, <span class="number">0</span>, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">107.8729</span>, <span class="number">29.2441</span>, <span class="number">12</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Fill, &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">1500</span>, <span class="attr">palette</span>:[<span class="string">&quot;2f5bff&quot;</span>,<span class="string">&quot;0dff09&quot;</span>,<span class="string">&quot;efff05&quot;</span>,<span class="string">&quot;ff9931&quot;</span>]&#125;, <span class="string">&quot;Unfilled&quot;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Fill, &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">1500</span>, <span class="attr">palette</span>:[<span class="string">&quot;2f5bff&quot;</span>,<span class="string">&quot;0dff09&quot;</span>,<span class="string">&quot;efff05&quot;</span>,<span class="string">&quot;ff9931&quot;</span>]&#125;, <span class="string">&quot;Filled&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="熵值操作"><a href="#熵值操作" class="headerlink" title="熵值操作"></a>熵值操作</h4><h4 id="glcm纹理操作"><a href="#glcm纹理操作" class="headerlink" title="glcm纹理操作"></a>glcm纹理操作</h4><h4 id="zeroCrossing操作"><a href="#zeroCrossing操作" class="headerlink" title="zeroCrossing操作"></a>zeroCrossing操作</h4><h4 id="CannyEdge纹理操作（边缘检测Canny算子）"><a href="#CannyEdge纹理操作（边缘检测Canny算子）" class="headerlink" title="CannyEdge纹理操作（边缘检测Canny算子）"></a>CannyEdge纹理操作（边缘检测Canny算子）</h4><h4 id="栅格距离操作"><a href="#栅格距离操作" class="headerlink" title="栅格距离操作"></a>栅格距离操作</h4><h4 id="栅格的卷据操作"><a href="#栅格的卷据操作" class="headerlink" title="栅格的卷据操作"></a>栅格的卷据操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> = <span class="variable constant_">KERNEL</span> = ee.<span class="property">Kernel</span>.<span class="title function_">fixed</span>(<span class="number">7</span>,<span class="number">7</span>, [[ <span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> ],</span><br><span class="line">                                    [ <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> ],</span><br><span class="line">                                    [ <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> ],</span><br><span class="line">                                    [ <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> ],</span><br><span class="line">                                    [ <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> ],</span><br><span class="line">                                    [ <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> ],</span><br><span class="line">                                    [ <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span> ]]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Convolve</span>_DEM = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(<span class="variable constant_">KERNEL</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">105.8125</span>, <span class="number">29.4033</span>, <span class="number">9</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">DEM</span>, &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">2000</span>&#125;, <span class="string">&quot;DEM&quot;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Convolve</span>_DEM, &#123;<span class="attr">max</span>:<span class="number">12000</span>&#125;, <span class="string">&quot;Convolve_Dem&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="栅格的邻域缩减操作"><a href="#栅格的邻域缩减操作" class="headerlink" title="*栅格的邻域缩减操作"></a>*栅格的邻域缩减操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> DEM_ReduceNeighbor = <span class="variable constant_">DEM</span>.<span class="title function_">reduceNeighborhood</span>( ee.<span class="property">Reducer</span>.<span class="title function_">mean</span>( ), ee.<span class="property">Kernel</span>.<span class="title function_">circle</span>( <span class="number">4</span> ) );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>( <span class="number">105.9479</span>, <span class="number">29.4165</span>, <span class="number">8</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">DEM</span>, &#123;<span class="attr">min</span>: <span class="number">0</span>, <span class="attr">max</span>: <span class="number">2000</span>, &#125;, <span class="string">&#x27;DEM&#x27;</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_ReduceNeighbor, &#123;<span class="attr">min</span>: <span class="number">0</span>, <span class="attr">max</span>: <span class="number">2000</span>, &#125;, <span class="string">&#x27;DEM_ReduceNeighbor&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="栅格转矢量"><a href="#栅格转矢量" class="headerlink" title="栅格转矢量"></a>栅格转矢量</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Water</span> = ee.<span class="title class_">Image</span>(<span class="string">&quot;ESA/GLOBCOVER_L4_200901_200912_V2_3&quot;</span>)</span><br><span class="line">.<span class="title function_">select</span>(<span class="string">&#x27;landcover&#x27;</span>)</span><br><span class="line">.<span class="title function_">clamp</span>(<span class="number">209</span>,<span class="number">211</span>);</span><br><span class="line"><span class="keyword">var</span> geometry = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">[[[<span class="number">106.32728668689242</span>, <span class="number">29.46329064748005</span>],</span><br><span class="line">[<span class="number">106.76948639392367</span>, <span class="number">29.462692803378452</span>],</span><br><span class="line">[<span class="number">106.77017303943148</span>, <span class="number">29.65740304071832</span>],</span><br><span class="line">[<span class="number">106.31355377673617</span>, <span class="number">29.654419523039962</span>]]]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Water</span>_Vecter = <span class="title class_">Water</span>.<span class="title function_">reduceToVectors</span>( <span class="literal">null</span>, geometry, <span class="literal">null</span>, <span class="string">&#x27;polygon&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Water</span>_BoundBox = <span class="title class_">Water</span>.<span class="title function_">reduceToVectors</span>( <span class="literal">null</span>, geometry, <span class="literal">null</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Water</span>_Center_4 = <span class="title class_">Water</span>.<span class="title function_">reduceToVectors</span>( <span class="literal">null</span>, geometry, <span class="literal">null</span>, <span class="string">&#x27;centroid&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Water</span>_Center_8 = <span class="title class_">Water</span>.<span class="title function_">reduceToVectors</span>( <span class="literal">null</span>, geometry, <span class="literal">null</span>, <span class="string">&#x27;centroid&#x27;</span>, <span class="literal">true</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.5587</span>, <span class="number">29.5631</span>,<span class="number">10</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Water</span>,&#123;<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;ffffff&quot;</span>,<span class="string">&quot;1707ff&quot;</span>]&#125;,<span class="string">&#x27;Water&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Water</span>_Vecter, &#123;<span class="attr">color</span>:<span class="string">&#x27;dddddd&#x27;</span>&#125;, <span class="string">&#x27;The Polygons&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Water</span>_BoundBox, &#123;<span class="attr">color</span>:<span class="string">&#x27;888888&#x27;</span>&#125;, <span class="string">&#x27;The Bounding Boxes&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Water</span>_Center_4, &#123;<span class="attr">color</span>:<span class="string">&#x27;ff0000&#x27;</span>&#125;, <span class="string">&#x27;4-way Centroids&#x27;</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Water</span>_Center_8, &#123;<span class="attr">color</span>:<span class="string">&#x27;ffffff&#x27;</span>&#125;, <span class="string">&#x27;8-way Centroids&#x27;</span> );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">栅格转矢量共有<span class="number">12</span> 个参数，这里着重介绍第<span class="number">4</span> 个“矢量类型”和第五个“是否计算斜边”。</span><br><span class="line">矢量类型共有三种：“polygon”，“bb”和“centroid”，分别代表不规则面、矩形和点。</span><br><span class="line"></span><br><span class="line">是否计算斜边的功能是告诉<span class="variable constant_">GEE</span> 栅格转矢量的时候是否要把斜向相接(除了上下左右之外的其他四个方向)的栅格算作矢量的一部分。</span><br></pre></td></tr></table></figure>



<h4 id="栅格一维矩阵操作"><a href="#栅格一维矩阵操作" class="headerlink" title="栅格一维矩阵操作"></a>栅格一维矩阵操作</h4><h4 id="栅格区域统计操作"><a href="#栅格区域统计操作" class="headerlink" title="栅格区域统计操作"></a>栅格区域统计操作</h4><h4 id="栅格输出操作"><a href="#栅格输出操作" class="headerlink" title="栅格输出操作"></a>栅格输出操作</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dem = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> roi = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">  [[[<span class="number">106.20650888671878</span>, <span class="number">29.570337903152346</span>],</span><br><span class="line">  [<span class="number">106.54159189453128</span>, <span class="number">29.56556010779314</span>],</span><br><span class="line">  [<span class="number">106.54159189453128</span>, <span class="number">29.725493070064537</span>],</span><br><span class="line">  [<span class="number">106.21612192382815</span>, <span class="number">29.71952998792036</span>]]]);</span><br><span class="line"><span class="keyword">var</span> dem_clip = dem.<span class="title function_">clip</span>(roi);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Export</span>.<span class="property">image</span>.<span class="title function_">toDrive</span>(&#123;</span><br><span class="line">  <span class="attr">image</span>:dem_clip,</span><br><span class="line">  <span class="attr">region</span>:roi</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">函数<span class="title class_">Export</span>.<span class="property">Image</span>.<span class="title function_">tODrive</span>(image,region) 向<span class="title class_">Google</span> drive输入导出的图像</span><br><span class="line"></span><br><span class="line">输出命令中建议指定的两个参数是image 和region，如果不指定region， <span class="variable constant_">GEE</span>会默认的将目前视野中的图像输出出去，造成输出数据的缺失。</span><br></pre></td></tr></table></figure>

<h4 id="RGB组合"><a href="#RGB组合" class="headerlink" title="RGB组合"></a>RGB组合</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lights03 = ee.<span class="title class_">Image</span>(<span class="string">&#x27;NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F152003&#x27;</span>)</span><br><span class="line">.<span class="title function_">select</span>(<span class="string">&#x27;stable_lights&#x27;</span>).<span class="title function_">rename</span>(<span class="string">&#x27;2003&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> lights13 = ee.<span class="title class_">Image</span>(<span class="string">&#x27;NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182013&#x27;</span>)</span><br><span class="line">.<span class="title function_">select</span>(<span class="string">&#x27;stable_lights&#x27;</span>).<span class="title function_">rename</span>(<span class="string">&#x27;2013&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> changeImage = lights13.<span class="title function_">addBands</span>(lights03).<span class="title function_">addBands</span>(lights93.<span class="title function_">select</span>(<span class="string">&#x27;stable_lights&#x27;</span>).<span class="title function_">rename</span>(<span class="string">&#x27;1993&#x27;</span>));</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&#x27;change image&#x27;</span>, changeImage);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(</span><br><span class="line">changeImage,</span><br><span class="line">&#123;</span><br><span class="line"> <span class="attr">min</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">max</span>: <span class="number">63</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">&#x27;Change composite&#x27;</span>);</span><br><span class="line"></span><br><span class="line">.<span class="title function_">rename</span>()函数的作用是自定义波段的名字</span><br><span class="line">.<span class="title function_">addBands</span>()函数的作用是将函数前面的图像作为第一波段，后面的影像作为第二波段进行波段组合</span><br></pre></td></tr></table></figure>



<h3 id="ImageCollection"><a href="#ImageCollection" class="headerlink" title="ImageCollection"></a>ImageCollection</h3><p>ImageCollection与FeatureCollection有很多命令是重复的。</p>
<p>最后Confusion、Marix 常用于遥感分类图像的验证。</p>
<h4 id="ImageCollection的创建"><a href="#ImageCollection的创建" class="headerlink" title="ImageCollection的创建"></a>ImageCollection的创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Night</span>_Light = ee.<span class="title class_">ImageCollection</span>( <span class="string">&#x27;NOAA/DMSP-OLS/NIGHTTIME_LIGHTS&#x27;</span> );</span><br><span class="line"><span class="keyword">var</span> image_1 = ee.<span class="title class_">Image</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">var</span> image_2 = ee.<span class="title class_">Image</span>(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">var</span> collection = ee.<span class="title class_">ImageCollection</span>([image_1,image_2])</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Night</span>_Light,collection)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>( <span class="number">107.54</span>, <span class="number">34.37</span>, <span class="number">4</span> );</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="title class_">Night</span>_Light, &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">100</span>, <span class="attr">opacity</span>:<span class="number">0.7</span>&#125; );</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="ImageCollection的筛选"><a href="#ImageCollection的筛选" class="headerlink" title="ImageCollection的筛选"></a>ImageCollection的筛选</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_TOA&quot;</span>)</span><br><span class="line">	.<span class="title function_">filterBounds</span>(<span class="title class_">China</span>.<span class="title function_">geometry</span>())</span><br><span class="line">	.<span class="title function_">filterDate</span>(<span class="string">&#x27;2018-01-01&#x27;</span>,<span class="string">&#x27;2018-12-31&#x27;</span>)</span><br><span class="line">	.<span class="title function_">filterMetadata</span>(<span class="string">&#x27;CLOUD_COVER&#x27;</span>,<span class="string">&#x27;less_than&#x27;</span>,<span class="number">0.1</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>( <span class="number">107.753</span>, <span class="number">34.238</span>, <span class="number">4</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>( <span class="variable constant_">L8</span>, &#123;<span class="attr">bands</span>:<span class="string">&#x27;B4,B3,B2&#x27;</span>, <span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">0.2</span>&#125;, <span class="string">&#x27;Original Images&#x27;</span> );</span><br><span class="line"></span><br><span class="line">此处筛选是”正常的筛选“，参考以下代码：</span><br><span class="line">.<span class="title function_">filterBounds</span>(<span class="title class_">China</span>.<span class="title function_">geometry</span>()) = ee.<span class="property">Filter</span>.<span class="title class_">Bounds</span>(<span class="title class_">China</span>.<span class="title function_">geometry</span>())</span><br><span class="line">.<span class="title function_">filterDate</span>(<span class="string">&#x27;2018-01-01&#x27;</span>,<span class="string">&#x27;2018-12-31&#x27;</span>) = ee.<span class="property">Filter</span>.<span class="title class_">Date</span>(<span class="string">&#x27;2018-01-01&#x27;</span>,<span class="string">&#x27;2018-12-31&#x27;</span>)</span><br><span class="line">.<span class="property">filterMetadata</span> (‘<span class="variable constant_">CLOUD_COVER</span>’,‘less_than’,<span class="number">0.1</span>) = ee.<span class="property">Filter</span>.<span class="title class_">Metadata</span>(‘<span class="variable constant_">CLOUD_COVER</span>’,‘less_than’,<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>



<h4 id="ImageCollection的限制筛选"><a href="#ImageCollection的限制筛选" class="headerlink" title="ImageCollection的限制筛选"></a>ImageCollection的限制筛选</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_TOA&quot;</span>)</span><br><span class="line">.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.5487</span>, <span class="number">29.5444</span>))</span><br><span class="line">.<span class="title function_">filterDate</span>(<span class="string">&#x27;2018-03-01&#x27;</span>,<span class="string">&#x27;2019-03-01&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> L8_Limit = <span class="variable constant_">L8</span>.<span class="title function_">limit</span>( <span class="number">10</span> );</span><br><span class="line"><span class="title function_">print</span>( <span class="variable constant_">L8</span>, L8_Limit );</span><br><span class="line"></span><br><span class="line">限制数量为<span class="number">10</span></span><br></pre></td></tr></table></figure>



<h4 id="ImageCollection的选择创建"><a href="#ImageCollection的选择创建" class="headerlink" title="ImageCollection的选择创建"></a>ImageCollection的选择创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_TOA&quot;</span>)</span><br><span class="line">.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.5487</span>, <span class="number">29.5444</span>))</span><br><span class="line">.<span class="title function_">filterDate</span>(<span class="string">&#x27;2018-03-01&#x27;</span>,<span class="string">&#x27;2019-03-01&#x27;</span>)</span><br><span class="line">.<span class="title function_">limit</span>(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">var</span> L8_Select = <span class="variable constant_">L8</span>.<span class="title function_">select</span>([<span class="string">&#x27;B5&#x27;</span>,<span class="string">&#x27;B4&#x27;</span>,<span class="string">&#x27;B3&#x27;</span>], [<span class="string">&#x27;Near infrared&#x27;</span>,<span class="string">&#x27;Red&#x27;</span>,<span class="string">&#x27;Green&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>( <span class="string">&#x27;Original&#x27;</span>, <span class="variable constant_">L8</span> );</span><br><span class="line"><span class="title function_">print</span>( <span class="string">&#x27;Selected&#x27;</span>, L8_Select );</span><br><span class="line"></span><br><span class="line">选择创建命令.<span class="title function_">select</span>()的功能是创建基于源数据的“副本”，同时，通过指定第二个参数值，还可以对副本数据属性进行重命名。</span><br></pre></td></tr></table></figure>

<h4 id="map-命令"><a href="#map-命令" class="headerlink" title=".map 命令"></a>.map 命令</h4><p>.map 命令是对矢量或者栅格数据集中的每一个数据都进行同样的操作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_TOA&quot;</span>)</span><br><span class="line">.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">107.193</span>, <span class="number">29.1373</span>))</span><br><span class="line">.<span class="title function_">filterDate</span>(<span class="string">&#x27;2018-01-01&#x27;</span>,<span class="string">&#x27;2018-12-31&#x27;</span>)</span><br><span class="line">.<span class="title function_">select</span>(<span class="string">&#x27;B[4,5]&#x27;</span>)</span><br><span class="line">.<span class="title function_">limit</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add_NDVI</span> (image)&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="variable constant_">NDVI</span> = image.<span class="title function_">normalizedDifference</span>([<span class="string">&#x27;B5&#x27;</span>,<span class="string">&#x27;B4&#x27;</span>])</span><br><span class="line">    <span class="comment">//.normalizedDifference 命令是进行归一化差值运算</span></span><br><span class="line">    <span class="keyword">return</span> image.<span class="title function_">addBands</span>(<span class="variable constant_">NDVI</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_NDVI</span> = <span class="variable constant_">L8</span>.<span class="title function_">map</span>(add_NDVI)</span><br><span class="line"><span class="title function_">print</span>(<span class="variable constant_">L8</span>,<span class="variable constant_">L8_NDVI</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">本例中，通过<span class="keyword">function</span> 命令编辑了添加<span class="variable constant_">NDVI</span> 的命令，然后利用.<span class="property">map</span> 将这个命令统一运用到<span class="title class_">Image</span> <span class="title class_">Collection</span> 里，达到给<span class="title class_">Image</span> <span class="title class_">Collection</span> 里每个图像添加<span class="variable constant_">NDVI</span> 的目的。</span><br></pre></td></tr></table></figure>







<h3 id="Landsat-Images"><a href="#Landsat-Images" class="headerlink" title="Landsat Images"></a>Landsat Images</h3><p>GEE 中内置了若干针对Landsat 卫星的命令，对这些命令的合理使用能增加分析效率。</p>
<h4 id="qualityMosaic-命令"><a href="#qualityMosaic-命令" class="headerlink" title="qualityMosaic 命令"></a>qualityMosaic 命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_TOA&quot;</span>)</span><br><span class="line">            .<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">107.193</span>, <span class="number">29.1373</span>))</span><br><span class="line">            .<span class="title function_">filterDate</span>(<span class="string">&#x27;2018-01-01&#x27;</span>,<span class="string">&#x27;2018-12-31&#x27;</span>)</span><br><span class="line">            .<span class="title function_">select</span>(<span class="string">&#x27;B[2-5]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add_NDVI</span> (image)&#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="variable constant_">NDVI</span> = image.<span class="title function_">normalizedDifference</span>([<span class="string">&#x27;B5&#x27;</span>,<span class="string">&#x27;B4&#x27;</span>]) <span class="comment">//归一化差值运算（x-y）/(x+y)</span></span><br><span class="line">        <span class="keyword">return</span> image.<span class="title function_">addBands</span>(<span class="variable constant_">NDVI</span>)</span><br><span class="line">&#125;；</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_NDVI</span> = <span class="variable constant_">L8</span>.<span class="title function_">map</span>(add_NDVI)；</span><br><span class="line"><span class="keyword">var</span> NDVI_Quality = <span class="variable constant_">L8_NDVI</span>.<span class="title function_">qualityMosaic</span>(<span class="string">&#x27;nd&#x27;</span>)；</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.618</span>, <span class="number">29.6653</span>,<span class="number">9</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(NDVI_Quality,&#123;<span class="string">&quot;bands&quot;</span>:[<span class="string">&quot;B5&quot;</span>,<span class="string">&quot;B4&quot;</span>,<span class="string">&quot;B3&quot;</span>],<span class="string">&quot;max&quot;</span>:<span class="number">0.5</span>,<span class="string">&quot;gamma&quot;</span>:<span class="number">1</span>&#125;,<span class="string">&#x27;NDVI qualified&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">该命令的功能是“选出最大值像素”。</span><br><span class="line">本例的<span class="title class_">Image</span> <span class="title class_">Collection</span> 已经通过.<span class="title function_">map</span>()命令给其中的每个图像都增加了<span class="title function_">NDVI</span>(波段名为nd)数据，当利用qualityMosaic 命令并且选择nd波段为参数时，其结果就是将<span class="title class_">Image</span> <span class="title class_">Collection</span> 的<span class="variable constant_">NDVI</span> 最大的像素挑选出来并组合成</span><br><span class="line">一副图像。</span><br></pre></td></tr></table></figure>



<h4 id="光谱分离命令"><a href="#光谱分离命令" class="headerlink" title="光谱分离命令"></a>光谱分离命令</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载“建设用地”，“水体”和“绿地”的Geometry</span></span><br><span class="line"><span class="keyword">var</span> landsat5 = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LT05/C01/T1&quot;</span>),</span><br><span class="line">    <span class="title class_">China</span>_provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>),</span><br><span class="line">    CQ_point = ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>([<span class="number">106.54876499135139</span>, <span class="number">29.594019931841714</span>]);</span><br><span class="line"><span class="keyword">var</span> bare = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">    [[[<span class="number">106.55483080849444</span>, <span class="number">29.529437948319515</span>], [<span class="number">106.55139765445824</span>, <span class="number">29.52555451875115</span>],</span><br><span class="line">    [<span class="number">106.55654738551414</span>, <span class="number">29.52346337953001</span>], [<span class="number">106.55843565976829</span>, <span class="number">29.527496216222946</span>]]]);</span><br><span class="line"><span class="keyword">var</span> water = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">    [[[<span class="number">106.57311345239873</span>, <span class="number">29.569534351977307</span>], [<span class="number">106.56727579226686</span>, <span class="number">29.56833967471457</span>],</span><br><span class="line">    [<span class="number">106.56933614290324</span>, <span class="number">29.5656515992401</span>]]]) ;</span><br><span class="line"><span class="keyword">var</span> veg =ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>(</span><br><span class="line">    [[[<span class="number">106.77944972250918</span>, <span class="number">29.553706593461722</span>],</span><br><span class="line">    [<span class="number">106.7749865267084</span>, <span class="number">29.552511969146664</span>],[<span class="number">106.77773310873965</span>, <span class="number">29.548330672830648</span>]]]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义时间范围</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ChongQing</span> = <span class="title class_">China</span>_provinces.<span class="title function_">filterBounds</span>(CQ_point);</span><br><span class="line"><span class="keyword">var</span> start_date = <span class="string">&#x27;2008-01-01&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> end_date = <span class="string">&#x27;2008-12-31&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//合成无云图像</span></span><br><span class="line"><span class="keyword">var</span> filtered = landsat5.<span class="title function_">filterBounds</span>(CQ_point).<span class="title function_">filterDate</span>(start_date, end_date)</span><br><span class="line"><span class="keyword">var</span> composite = ee.<span class="property">Algorithms</span>.<span class="property">Landsat</span>.<span class="title function_">simpleComposite</span>(&#123;<span class="attr">collection</span>: filtered,<span class="attr">asFloat</span>:<span class="literal">true</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//确定运算波段</span></span><br><span class="line"><span class="keyword">var</span> unmixImage = composite.<span class="title function_">select</span>([<span class="string">&#x27;B1&#x27;</span>, <span class="string">&#x27;B2&#x27;</span>, <span class="string">&#x27;B3&#x27;</span>, <span class="string">&#x27;B4&#x27;</span>, <span class="string">&#x27;B5&#x27;</span>, <span class="string">&#x27;B7&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取解缠的“解”</span></span><br><span class="line"><span class="keyword">var</span> bareMean = unmixImage.<span class="title function_">reduceRegion</span>(ee.<span class="property">Reducer</span>.<span class="title function_">mean</span>(), bare, <span class="number">30</span>).<span class="title function_">values</span>();</span><br><span class="line"><span class="keyword">var</span> waterMean = unmixImage.<span class="title function_">reduceRegion</span>(ee.<span class="property">Reducer</span>.<span class="title function_">mean</span>(), water, <span class="number">30</span>).<span class="title function_">values</span>();</span><br><span class="line"><span class="keyword">var</span> vegMean = unmixImage.<span class="title function_">reduceRegion</span>(ee.<span class="property">Reducer</span>.<span class="title function_">mean</span>(), veg, <span class="number">30</span>).<span class="title function_">values</span>();</span><br><span class="line"><span class="keyword">var</span> endmembers = ee.<span class="property">Array</span>.<span class="title function_">cat</span>([bareMean, vegMean, waterMean], <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取解缠的“缠”</span></span><br><span class="line"><span class="keyword">var</span> arrayImage = unmixImage.<span class="title function_">toArray</span>().<span class="title function_">toArray</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//进行解缠</span></span><br><span class="line"><span class="keyword">var</span> unmixed = ee.<span class="title class_">Image</span>(endmembers).<span class="title function_">matrixSolve</span>(arrayImage);</span><br><span class="line"><span class="keyword">var</span> unmixedImage = unmixed.<span class="title function_">arrayProject</span>([<span class="number">0</span>]).<span class="title function_">arrayFlatten</span>([[<span class="string">&#x27;bare&#x27;</span>, <span class="string">&#x27;veg&#x27;</span>, <span class="string">&#x27;water&#x27;</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//把结果加载到底图上</span></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(CQ_point,<span class="number">8</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(composite,&#123;<span class="attr">bands</span>: [<span class="string">&quot;B4&quot;</span>,<span class="string">&quot;B3&quot;</span>,<span class="string">&quot;B2&quot;</span>], <span class="attr">max</span>:<span class="number">0.3</span>&#125;, <span class="string">&quot;Simple Composite&quot;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(unmixedImage, &#123;&#125;, <span class="string">&#x27;Unmixed&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">光谱分离可以看做一个解方程的过程。</span><br><span class="line"></span><br><span class="line">	简单的来说，对于30m×30m 的像素来说，其占地面积为<span class="number">1.34</span>亩，在这样大的面积上，如果有一半的水和一半的绿地，那么理论上它的光谱里应该有一半来自水，一半来自绿地。</span><br><span class="line">对像素求取地物光谱的比例的过程就是光谱分离，其概念方程如下：</span><br><span class="line">                       像素 × 比例 = 终端像元</span><br><span class="line">	其中，终端像元是已知的，像素在图像的不同位置有着不同的值，那么我们就可以求出</span><br><span class="line">不同位置上不同地物的光谱比例</span><br><span class="line"></span><br><span class="line">	本例中将地物分成了“建设用地”，“水体”和“绿地”三类，那么就可以求出不同位置这三种地物的光谱比例。</span><br><span class="line">    </span><br><span class="line">    配合显色设置，图上越红的地区建设用地的比例就越大，越蓝的地区水体的比例越大，越绿的地区绿地的比例越大。</span><br></pre></td></tr></table></figure>





<h4 id="归一化差值运算"><a href="#归一化差值运算" class="headerlink" title="归一化差值运算"></a>归一化差值运算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> l8 = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> l8_one = l8.<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.705</span>, <span class="number">31.881</span>))</span><br><span class="line">    .<span class="title function_">filterDate</span>(<span class="string">&#x27;2016-01-01&#x27;</span>,<span class="string">&#x27;2018-12-31&#x27;</span>)</span><br><span class="line">    .<span class="title function_">sort</span>(<span class="string">&#x27;CLOUD_COVER&#x27;</span>)</span><br><span class="line">    .<span class="title function_">first</span>()；</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">NDVI_1</span> = l8_one.<span class="title function_">normalizedDifference</span>([<span class="string">&#x27;B5&#x27;</span>,<span class="string">&#x27;B4&#x27;</span>])</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">NDVI_2</span> = l8_one.<span class="title function_">expression</span>(<span class="string">&#x27;(B4+B5)/(B4-B5)&#x27;</span>,&#123;</span><br><span class="line">    <span class="string">&#x27;B5&#x27;</span>: l8_one.<span class="title function_">select</span>(<span class="string">&#x27;B5&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;B4&#x27;</span>: l8_one.<span class="title function_">select</span>(<span class="string">&#x27;B4&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="variable constant_">NDVI_1</span>,<span class="variable constant_">NDVI_2</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">NDVI_1</span>,&#123;<span class="string">&quot;min&quot;</span>:-<span class="number">0.1</span>,<span class="string">&quot;max&quot;</span>:<span class="number">0.4</span>,<span class="string">&quot;palette&quot;</span>:[<span class="string">&quot;0f0bff&quot;</span>,<span class="string">&quot;ff3305&quot;</span>,<span class="string">&quot;fbff1b&quot;</span>,<span class="string">&quot;0bff1e&quot;</span>]&#125;)</span><br><span class="line"></span><br><span class="line">通过将.<span class="title function_">normalizedDifference</span>([<span class="string">&#x27;B5&#x27;</span>,<span class="string">&#x27;B4&#x27;</span>]) 与 .<span class="title function_">expression</span>(<span class="string">&#x27;(B4+B5)/(B4-B5)&#x27;</span>)对比可以发现，归一化差值计算本质上是将两个参数进行固定数学运算的命令模板，即“(前+</span><br><span class="line">后)/(前-后)”。因此可以合理运用这个命令，以计算<span class="variable constant_">NDVI</span> 或者<span class="variable constant_">NDWI</span> 等归一化参数，以提</span><br><span class="line">高效率。</span><br></pre></td></tr></table></figure>



<h4 id="云量指数计算"><a href="#云量指数计算" class="headerlink" title="云量指数计算"></a>云量指数计算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> l8_TOA = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1_TOA&quot;</span>)</span><br><span class="line">    .<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.2608</span>, <span class="number">29.5755</span>))</span><br><span class="line">    .<span class="title function_">first</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Cloud</span>_Rate = ee.<span class="property">Algorithms</span>.<span class="property">Landsat</span>.<span class="title function_">simpleCloudScore</span>(l8_TOA)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Cloud</span>_Rate);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.14</span>, <span class="number">30.3488</span>,<span class="number">8</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Cloud</span>_Rate,&#123;<span class="attr">bands</span>:[<span class="string">&#x27;B5&#x27;</span>,<span class="string">&#x27;B4&#x27;</span>,<span class="string">&#x27;B3&#x27;</span>],<span class="attr">max</span>:<span class="number">0.3</span>&#125;);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Cloud</span>_Rate.<span class="title function_">select</span>(<span class="string">&#x27;cloud&#x27;</span>));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="去云合成"><a href="#去云合成" class="headerlink" title="去云合成"></a>去云合成</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">L8_RAW</span> = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C01/T1&quot;</span>)</span><br><span class="line">    .<span class="title function_">filterBounds</span>(ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>(<span class="number">106.1125</span>, <span class="number">30.3772</span>))</span><br><span class="line">    .<span class="title function_">filterDate</span>(<span class="string">&#x27;2018-01-01&#x27;</span>,<span class="string">&#x27;2018-12-31&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> L8_Siple_Composite =</span><br><span class="line">ee.<span class="property">Algorithms</span>.<span class="property">Landsat</span>.<span class="title function_">simpleComposite</span>(&#123;<span class="attr">collection</span>:<span class="variable constant_">L8_RAW</span>,<span class="attr">asFloat</span>:<span class="literal">true</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="variable constant_">L8_RAW</span>,L8_Siple_Composite);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">setCenter</span>(<span class="number">106.1125</span>, <span class="number">30.3772</span>,<span class="number">8</span>);</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(L8_Siple_Composite,&#123;<span class="attr">bands</span>:[<span class="string">&#x27;B5&#x27;</span>,<span class="string">&#x27;B4&#x27;</span>,<span class="string">&#x27;B3&#x27;</span>],<span class="attr">max</span>:<span class="number">0.3</span>&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="Confusion-Matrix"><a href="#Confusion-Matrix" class="headerlink" title="Confusion Matrix"></a>Confusion Matrix</h3><p>混淆矩阵常用于分类图像的分类质量验证，本节以下边的矩阵为例对混淆矩阵进行介绍。</p>
<table>
<thead>
<tr>
<th></th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1817491</td>
<td>1038523</td>
<td>5543</td>
<td>240068</td>
<td>1240</td>
</tr>
<tr>
<td>1</td>
<td>1016690</td>
<td>2838574</td>
<td>745</td>
<td>137438</td>
<td>330</td>
</tr>
<tr>
<td>2</td>
<td>12611</td>
<td>2055</td>
<td>115033</td>
<td>142</td>
<td>84</td>
</tr>
<tr>
<td>3</td>
<td>150432</td>
<td>228089</td>
<td>24</td>
<td>94365</td>
<td>78</td>
</tr>
<tr>
<td>4</td>
<td>5104</td>
<td>2466</td>
<td>745</td>
<td>283</td>
<td>50583</td>
</tr>
</tbody></table>
<h4 id="混淆矩阵的创建"><a href="#混淆矩阵的创建" class="headerlink" title="混淆矩阵的创建"></a>混淆矩阵的创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_Transform = ee.<span class="title class_">Array</span>([[<span class="number">1817491</span>,<span class="number">1016690</span>,<span class="number">12611</span> ,<span class="number">150432</span>,<span class="number">5104</span> ],</span><br><span class="line">                                [<span class="number">1038523</span>,<span class="number">2838574</span>,<span class="number">2055</span> ,<span class="number">228089</span>,<span class="number">2466</span> ],</span><br><span class="line">                                [<span class="number">5543</span> ,<span class="number">745</span> ,<span class="number">115033</span>,<span class="number">24</span> ,<span class="number">745</span> ],</span><br><span class="line">                                [<span class="number">240068</span> ,<span class="number">137438</span> ,<span class="number">142</span> ,<span class="number">94365</span> ,<span class="number">283</span> ],</span><br><span class="line">                                [<span class="number">1240</span> ,<span class="number">330</span> ,<span class="number">84</span> ,<span class="number">78</span> ,<span class="number">50583</span>]]);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Confusion</span>_Matrix = ee.<span class="title class_">ConfusionMatrix</span>( <span class="title class_">Array</span>_Transform );</span><br><span class="line"><span class="title function_">print</span>( <span class="title class_">Confusion</span>_Matrix );</span><br></pre></td></tr></table></figure>



<h4 id="混淆矩阵质量结果计算"><a href="#混淆矩阵质量结果计算" class="headerlink" title="混淆矩阵质量结果计算"></a>混淆矩阵质量结果计算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span>_Transform = ee.<span class="title class_">Array</span>([[<span class="number">1817491</span>,<span class="number">1016690</span>,<span class="number">12611</span> ,<span class="number">150432</span>,<span class="number">5104</span> ],</span><br><span class="line">                                [<span class="number">1038523</span>,<span class="number">2838574</span>,<span class="number">2055</span> ,<span class="number">228089</span>,<span class="number">2466</span> ],</span><br><span class="line">                                [<span class="number">5543</span> ,<span class="number">745</span> ,<span class="number">115033</span>,<span class="number">24</span> ,<span class="number">745</span> ],</span><br><span class="line">                                [<span class="number">240068</span> ,<span class="number">137438</span> ,<span class="number">142</span> ,<span class="number">94365</span> ,<span class="number">283</span> ],</span><br><span class="line">                                [<span class="number">1240</span> ,<span class="number">330</span> ,<span class="number">84</span> ,<span class="number">78</span> ,<span class="number">50583</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Confusion</span>_Matrix = ee.<span class="title class_">ConfusionMatrix</span>( <span class="title class_">Array</span>_Transform );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Matrix</span>_Kappa = <span class="title class_">Confusion</span>_Matrix.<span class="title function_">kappa</span>() <span class="comment">//卡帕系数</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Matrix</span>_Accuracy = <span class="title class_">Confusion</span>_Matrix.<span class="title function_">accuracy</span>() <span class="comment">//精度</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Matrix</span>_ProducersAccuracy = <span class="title class_">Confusion</span>_Matrix.<span class="title function_">producersAccuracy</span>() <span class="comment">//生产者精度</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Matrix</span>_ConsumersAccuracy = <span class="title class_">Confusion</span>_Matrix.<span class="title function_">consumersAccuracy</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Matrix</span>_Order = <span class="title class_">Confusion</span>_Matrix.<span class="title function_">order</span>()</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Matrix</span>_Kappa);</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Matrix</span>_Accuracy );</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Matrix</span>_ProducersAccuracy);</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Matrix</span>_ConsumersAccuracy);</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Matrix</span>_Order);</span><br></pre></td></tr></table></figure>







<h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><p>​		筛选和连接本质上属于“属性操作”，在GEE 中筛选和连接以“筛选器”和“连接器”的方<br>式存在。通过本节的学习，我们可以掌握通过筛选获得目标数据，以及利用连接来结合多源<br>数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Name</span>_CQ_Filter = ee.<span class="property">Filter</span>.<span class="title function_">eq</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;Chong_Qing&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">CQ</span> = <span class="title class_">China</span>_Provinces.<span class="title function_">filter</span>(<span class="title class_">Name</span>_CQ_Filter).<span class="title function_">first</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> CQ_Area = <span class="variable constant_">CQ</span>.<span class="title function_">get</span>(<span class="string">&#x27;Shape_Area&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Smaller</span>_Than_CQ_Filter = ee.<span class="property">Filter</span>.<span class="title function_">lt</span>(<span class="string">&#x27;Shape_Area&#x27;</span>,CQ_Area)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Smaller</span>_Than_CQ_Provinces = <span class="title class_">China</span>_Provinces.<span class="title function_">filter</span>(<span class="title class_">Smaller</span>_Than_CQ_Filter)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Smaller</span>_Than_CQ_Provinces)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Smaller</span>_Than_CQ_Provinces)</span><br></pre></td></tr></table></figure>



<h4 id="属性条件筛选"><a href="#属性条件筛选" class="headerlink" title="属性条件筛选"></a>属性条件筛选</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Start</span>_Shan = ee.<span class="property">Filter</span>.<span class="title function_">stringStartsWith</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;Shan&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">End</span>_Nan = ee.<span class="property">Filter</span>.<span class="title function_">stringEndsWith</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;Nan&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Congtain</span>_Bei = ee.<span class="property">Filter</span>.<span class="title function_">stringContains</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;Bei&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Provinces</span>_Start_Shan = <span class="title class_">China</span>_Provinces.<span class="title function_">filter</span>(<span class="title class_">Start</span>_Shan)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Provinces</span>_End_Nan = <span class="title class_">China</span>_Provinces.<span class="title function_">filter</span>(<span class="title class_">End</span>_Nan)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Provinces</span>_Congtain_Bei = <span class="title class_">China</span>_Provinces.<span class="title function_">filter</span>(<span class="title class_">Congtain</span>_Bei)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="title class_">China</span>_Provinces,<span class="number">4</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Provinces</span>_Start_Shan,&#123;<span class="attr">color</span>:<span class="string">&#x27;00ffff&#x27;</span>&#125;)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Provinces</span>_End_Nan,&#123;<span class="attr">color</span>:<span class="string">&#x27;ff0000&#x27;</span>&#125;)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="title class_">Provinces</span>_Congtain_Bei)</span><br></pre></td></tr></table></figure>







<h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><p>#########################################待补充</p>
<h3 id="Reducer"><a href="#Reducer" class="headerlink" title="Reducer"></a>Reducer</h3><p>​		Reducer 的中文含义是“缩减器，减压器”。与筛选Filter 相比，Reducer 虽然也有“减少”的意思，但其更多的含义在于“通过分析后获得统计信息”上。比如有100 个苹果，Filter 处理后只剩下80 个，而Reducer 处理后得则可以到“平均重量”。</p>
<p>总之，Filter 着重于数量上的减少，而Reducer 强调数学抽象的汇总。</p>
<p>(可以理解为统计，reducer后面可加需要统计的操作)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">China</span>_Provinces = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Reducer</span>_Count = ee.<span class="property">Reducer</span>.<span class="title function_">count</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Reducer</span>_CountEvery = ee.<span class="property">Reducer</span>.<span class="title function_">countEvery</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Reducer</span>_First = ee.<span class="property">Reducer</span>.<span class="title function_">first</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Provinces</span>_Number_1 = <span class="title class_">China</span>_Provinces.<span class="title function_">reduceColumns</span>(<span class="title class_">Reducer</span>_Count,[<span class="string">&#x27;NAME&#x27;</span>])</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Provinces</span>_Number_2 = <span class="title class_">China</span>_Provinces.<span class="title function_">reduceColumns</span>(<span class="title class_">Reducer</span>_CountEvery,[ ])</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Provinces</span>_First = <span class="title class_">China</span>_Provinces.<span class="title function_">reduceColumns</span>(<span class="title class_">Reducer</span>_First,[<span class="string">&#x27;NAME&#x27;</span>])</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&#x27;Reducer_Count&#x27;</span>,<span class="title class_">Provinces</span>_Number_1)</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&#x27;Reducer_CountEvery&#x27;</span>,<span class="title class_">Provinces</span>_Number_2)</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&#x27;Reducer_First&#x27;</span>,<span class="title class_">Provinces</span>_First)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这里需要强调ee.<span class="title class_">Reducer</span>()命令创建的是一个“名词”，其发挥作用只能在于其他“动词”</span><br><span class="line">配合的前提下才能完成，本例中的动词是.<span class="title function_">reducerColumns</span>()，可以理解为“列统计”。</span><br><span class="line">此外要注意.<span class="property">count</span> 和 .<span class="property">countEvery</span> 的区别。.<span class="property">count</span> 是计算指定列的数据，如果数据缺失则不进行数量统计(例如某数据不存在“<span class="variable constant_">NAME</span>”属性)，而.<span class="property">countEvery</span> 则是统计所有数据。</span><br></pre></td></tr></table></figure>





<h4 id="线性拟合"><a href="#线性拟合" class="headerlink" title="线性拟合"></a>线性拟合</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Data</span>_X = ee.<span class="title class_">Array</span>([<span class="number">13</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">36</span>,<span class="number">40</span>,<span class="number">42</span>,<span class="number">55</span>,<span class="number">60</span>,<span class="number">62</span>,<span class="number">64</span>,<span class="number">70</span>,<span class="number">72</span>,<span class="number">100</span>,<span class="number">130</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Data</span>_Y = ee.<span class="title class_">List</span>([<span class="number">11</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">13</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">22</span>,<span class="number">14</span>,<span class="number">21</span>,<span class="number">21</span>,<span class="number">24</span>,<span class="number">17</span>,<span class="number">23</span>,<span class="number">34</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Fig</span> = ui.<span class="property">Chart</span>.<span class="property">array</span>.<span class="title function_">values</span>(<span class="title class_">Data</span>_X,<span class="number">0</span>,<span class="title class_">Data</span>_Y)</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Fig</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Data</span>_x = ee.<span class="title class_">List</span>([<span class="number">13</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">36</span>,<span class="number">40</span>,<span class="number">42</span>,<span class="number">55</span>,<span class="number">60</span>,<span class="number">62</span>,<span class="number">64</span>,<span class="number">70</span>,<span class="number">72</span>,<span class="number">100</span>,<span class="number">130</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Data</span>_y = ee.<span class="title class_">List</span>([<span class="number">11</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">13</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">22</span>,<span class="number">14</span>,<span class="number">21</span>,<span class="number">21</span>,<span class="number">24</span>,<span class="number">17</span>,<span class="number">23</span>,<span class="number">34</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Linear</span>_Reducer = ee.<span class="property">Reducer</span>.<span class="title function_">linearFit</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Fited</span> = ee.<span class="title class_">List</span>([<span class="title class_">Data</span>_x,<span class="title class_">Data</span>_y]).<span class="title function_">reduce</span>(<span class="title class_">Linear</span>_Reducer)</span><br><span class="line"><span class="title function_">print</span>(<span class="title class_">Fited</span>)</span><br></pre></td></tr></table></figure>





<h3 id="Kernel"><a href="#Kernel" class="headerlink" title="Kernel"></a>Kernel</h3><h4 id="锐化卷积"><a href="#锐化卷积" class="headerlink" title="锐化卷积"></a>锐化卷积</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">CQ</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line">.<span class="title function_">filterMetadata</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;equals&#x27;</span>,<span class="string">&#x27;Chong_Qing&#x27;</span>).<span class="title function_">first</span>().<span class="title function_">geometry</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>).<span class="title function_">clip</span>(<span class="variable constant_">CQ</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> DEM_Roberts = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">roberts</span>())<span class="comment">//罗伯特梯度</span></span><br><span class="line"><span class="keyword">var</span> DEM_Prewitt = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">prewitt</span>())<span class="comment">//prewitt梯度</span></span><br><span class="line"><span class="keyword">var</span> DEM_Sobel = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">sobel</span>())<span class="comment">//索伯尔梯度</span></span><br><span class="line"><span class="keyword">var</span> DEM_Compass = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">compass</span>())</span><br><span class="line"><span class="keyword">var</span> DEM_Kirsch = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">kirsch</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">DEM</span>,&#123;<span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">2000</span>&#125;,<span class="string">&#x27;DEM&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="variable constant_">CQ</span>,<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Roberts ,&#123;<span class="attr">min</span>:-<span class="number">60</span>,<span class="attr">max</span>:<span class="number">60</span>&#125;,<span class="string">&#x27;DEM_Roberts&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Prewitt ,&#123;<span class="attr">min</span>:-<span class="number">270</span>,<span class="attr">max</span>:<span class="number">270</span>&#125;,<span class="string">&#x27;DEM_Prewitt&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Sobel ,&#123;<span class="attr">min</span>:-<span class="number">370</span>,<span class="attr">max</span>:<span class="number">370</span>&#125;,<span class="string">&#x27;DEM_Sobel&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Compass ,&#123;<span class="attr">min</span>:-<span class="number">300</span>,<span class="attr">max</span>:<span class="number">300</span>&#125;,<span class="string">&#x27;DEM_Compass&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Kirsch ,&#123;<span class="attr">min</span>:-<span class="number">1100</span>,<span class="attr">max</span>:<span class="number">1100</span>&#125;,<span class="string">&#x27;DEM_Kirsch&#x27;</span>)</span><br></pre></td></tr></table></figure>





<h4 id="钝化卷积"><a href="#钝化卷积" class="headerlink" title="*钝化卷积"></a>*钝化卷积</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">CQ</span> = ee.<span class="title class_">FeatureCollection</span>(<span class="string">&quot;users/wangjinzhulala/China_Provinces&quot;</span>)</span><br><span class="line">.<span class="title function_">filterMetadata</span>(<span class="string">&#x27;NAME&#x27;</span>,<span class="string">&#x27;equals&#x27;</span>,<span class="string">&#x27;Chong_Qing&#x27;</span>).<span class="title function_">first</span>().<span class="title function_">geometry</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">DEM</span> = ee.<span class="title class_">Image</span>(<span class="string">&quot;USGS/SRTMGL1_003&quot;</span>).<span class="title function_">clip</span>(<span class="variable constant_">CQ</span>);</span><br><span class="line"><span class="keyword">var</span> DEM_Euclidean = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">euclidean</span>( <span class="number">10</span>, <span class="string">&#x27;pixels&#x27;</span>, <span class="literal">true</span> ))</span><br><span class="line"><span class="keyword">var</span> DEM_Gaussian = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">gaussian</span>( <span class="number">10.0</span>, <span class="number">1.0</span>, <span class="string">&#x27;pixels&#x27;</span>, <span class="literal">true</span> ))</span><br><span class="line"><span class="keyword">var</span> DEM_Manhattan = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">manhattan</span>( <span class="number">10</span>, <span class="string">&#x27;pixels&#x27;</span>, <span class="literal">true</span> ))</span><br><span class="line"><span class="keyword">var</span> DEM_Chebyshev = <span class="variable constant_">DEM</span>.<span class="title function_">convolve</span>(ee.<span class="property">Kernel</span>.<span class="title function_">chebyshev</span>( <span class="number">10</span>, <span class="string">&#x27;pixels&#x27;</span>, <span class="literal">true</span> ))</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(<span class="variable constant_">CQ</span>,<span class="number">7</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(<span class="variable constant_">DEM</span>,&#123;<span class="attr">min</span>:<span class="number">0</span>,<span class="attr">max</span>:<span class="number">2000</span>&#125;,<span class="string">&#x27;DEM&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Euclidean ,&#123;<span class="attr">min</span>:<span class="number">281</span> ,<span class="attr">max</span>:<span class="number">681</span> &#125;,<span class="string">&#x27;DEM_Euclidean&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Gaussian ,&#123;<span class="attr">min</span>:<span class="number">358</span> ,<span class="attr">max</span>:<span class="number">898</span> &#125;,<span class="string">&#x27;DEM_Gaussian&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Manhattan ,&#123;<span class="attr">min</span>:<span class="number">287</span> ,<span class="attr">max</span>:<span class="number">630</span> &#125;,<span class="string">&#x27;DEM_Manhattan&#x27;</span>)</span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(DEM_Chebyshev ,&#123;<span class="attr">min</span>:<span class="number">285</span> ,<span class="attr">max</span>:<span class="number">630</span> &#125;,<span class="string">&#x27;DEM_Chebyshev&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h3><h4 id="Landsat简单的云遮罩"><a href="#Landsat简单的云遮罩" class="headerlink" title="Landsat简单的云遮罩"></a>Landsat简单的云遮罩</h4><p><code>ee.Algorithms.Landsat.simpleCloudScore()</code> </p>
<p> Earth Engine包括<strong>thermal band</strong>的Landsat传感器的云遮罩算法，它以Landsat TOA反射率图像作为输入，并添加一个名为cloud的波段，该波段是像素中从0到100，从最小到最浑浊的像素的指数。</p>
<h3 id="QA波段去云"><a href="#QA波段去云" class="headerlink" title="QA波段去云"></a>QA波段去云</h3><p>QA(data product <strong>quality assessment</strong>)是<strong>数据质量评估波段</strong>的简称，在不同的产品中有不同的名称。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s2 = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;COPERNICUS/S2&quot;</span>), </span><br><span class="line">    point = <span class="comment">/* color: #98ff00 */</span>ee.<span class="property">Geometry</span>.<span class="title class_">Point</span>([<span class="number">116.20553071765003</span>, <span class="number">39.404020061278715</span>]); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* remove cloud by QA bands </span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* */</span> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">rmCloudByQA</span>(<span class="params">image</span>) &#123; </span><br><span class="line">  <span class="comment">//根据不同类型的影像选择质量波段</span></span><br><span class="line">  <span class="keyword">var</span> qa = image.<span class="title function_">select</span>(<span class="string">&#x27;QA60&#x27;</span>); </span><br><span class="line">  <span class="keyword">var</span> cloudBitMask = <span class="number">1</span> &lt;&lt; <span class="number">10</span>; </span><br><span class="line">  <span class="keyword">var</span> cirrusBitMask = <span class="number">1</span> &lt;&lt; <span class="number">11</span>; </span><br><span class="line">  <span class="keyword">var</span> mask = qa.<span class="title function_">bitwiseAnd</span>(cloudBitMask).<span class="title function_">eq</span>(<span class="number">0</span>) </span><br><span class="line">               .<span class="title function_">and</span>(qa.<span class="title function_">bitwiseAnd</span>(cirrusBitMask).<span class="title function_">eq</span>(<span class="number">0</span>)); </span><br><span class="line">  <span class="keyword">return</span> image.<span class="title function_">updateMask</span>(mask); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123; </span><br><span class="line">  <span class="keyword">var</span> startDate = <span class="string">&quot;2019-4-4&quot;</span>; </span><br><span class="line">  <span class="keyword">var</span> endDate = <span class="string">&quot;2019-4-8&quot;</span>; </span><br><span class="line">  <span class="title class_">Map</span>.<span class="title function_">centerObject</span>(point, <span class="number">8</span>); </span><br><span class="line">  <span class="keyword">var</span> s2Imgs = s2.<span class="title function_">filterDate</span>(startDate, endDate) </span><br><span class="line">                 .<span class="title function_">filterBounds</span>(point); </span><br><span class="line">  <span class="title class_">Map</span>.<span class="title function_">addLayer</span>(s2Imgs.<span class="title function_">first</span>(), &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">3000</span>, <span class="attr">bands</span>:[<span class="string">&quot;B4&quot;</span>, <span class="string">&quot;B3&quot;</span>, <span class="string">&quot;B2&quot;</span>]&#125;, <span class="string">&quot;raw&quot;</span>, <span class="literal">false</span>); </span><br><span class="line">  s2Imgs = s2Imgs.<span class="title function_">map</span>(rmCloudByQA); </span><br><span class="line">  <span class="title class_">Map</span>.<span class="title function_">addLayer</span>(s2Imgs.<span class="title function_">first</span>(), &#123;<span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">3000</span>, <span class="attr">bands</span>:[<span class="string">&quot;B4&quot;</span>, <span class="string">&quot;B3&quot;</span>, <span class="string">&quot;B2&quot;</span>]&#125;, <span class="string">&quot;cloud&quot;</span>); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">main</span>(); </span><br><span class="line"></span><br><span class="line">image.<span class="title function_">mask</span>()，会将影像的掩膜区域与非掩膜区域用<span class="number">0</span>和<span class="number">1</span>区分开来，其中<span class="number">1</span>代表为掩膜，<span class="number">0</span>代表未掩膜。影像的边框范围内，黑色代表已被掩膜的区域，白色代表未掩膜区域。</span><br><span class="line">image.<span class="title function_">updateMask</span>()，updateMask会将影像上为<span class="number">0</span>的区域掩膜掉，如果你希望某一景影像与另一景影像具有相同的掩膜，可以使用image2.<span class="title function_">updateMask</span>(image1.<span class="title function_">mask</span>().<span class="title function_">not</span>())。</span><br><span class="line"></span><br><span class="line">updaeMask（）可以简单理解为保留括号内的区域，并且要注意是在现有图像掩码不为零的区域进行处理。</span><br><span class="line"></span><br><span class="line">例如使用A.<span class="title function_">updateMask</span>(B)：</span><br><span class="line">首先，要不报错需要满足B要么只有一个波段值，要么就和A有相同的数量的波段。</span><br><span class="line">然后平台会只对A掩码不为<span class="number">0</span>的区域处理，对于A掩码为<span class="number">0</span>而B有效的区域不处理，即掩码仍为<span class="number">0</span>，<span class="number">0</span>代表无效，<span class="number">1</span>代表有效，也就是取<span class="variable constant_">AB</span>交集。</span><br></pre></td></tr></table></figure>



<h4 id="最大值合成"><a href="#最大值合成" class="headerlink" title="最大值合成"></a>最大值合成</h4><p>​		由于云雨等影响，使得遥感数据无法有效地观测地面，这种影响在NDVI上表现为低值噪声，为了降低这种影响，通常使用最大值合成的方法，得到相邻时间内最佳观测值作为填充值，从而消除低值噪声。这种方法简单实用，但是无法恢复地表真实情况，且会造成最大值对应的日期发生偏移，通常还要结合各种滤波算法对时间序列数据进行平滑，比如S-G滤波、谐波分析等。</p>
<p>ee.Filter.calendarRange(start, end, field) 筛选日期</p>
<p>start,end 是int类型；field有：year, month, hour, minute, day_of_year, day_of_month, day_of_week这几种类型</p>
<h3 id="数据整合"><a href="#数据整合" class="headerlink" title="数据整合"></a>数据整合</h3><p>数据整合Reducer是在Earth Engine中按照时间、空间、波段、矩阵或其它数据结构整合数据的方法。</p>
<p>ee.Reducer()这一大类指定了数据整合的方式。</p>
<p>Reducer是指将数据整合起来的某种简单的统计算法（如最小值，最大值，平均值，中位数，标准差等），或是对输入数据进行更为复杂的总结（如直方图，线性回归，列表等）。	</p>
<p>​		时间：imageCollection.reduce（）；</p>
<p>​		空间：image.reduceRegion（）；image.reduceNeighborhood（）；</p>
<p>​		波段：image.reduce（）；</p>
<ul>
<li><code>ee.Reducer.mean()</code>: 计算像素值的平均值。</li>
<li><code>ee.Reducer.median()</code>: 计算像素值的中位数。</li>
<li><code>ee.Reducer.sum()</code>: 计算像素值的总和。</li>
<li><code>ee.Reducer.min()</code>: 计算像素值的最小值。</li>
<li><code>ee.Reducer.max()</code>: 计算像素值的最大值。</li>
<li><code>ee.Reducer.stdDev()</code>: 计算像素值的标准差。</li>
<li><code>ee.Reducer.histogram()</code>: 计算像素值的直方图。</li>
</ul>
<h4 id="纹理特征"><a href="#纹理特征" class="headerlink" title="纹理特征"></a>纹理特征</h4><p>是用来描述图像中不同区域之间的不同性质，常用的纹理特征包括对比度、均值、方差、协同性、相异性、信息熵、二阶矩和相关性等。</p>
<ol>
<li>对比度：描述了图像中相邻像素之间的亮度差异。对比度越高，图像中不同区域的亮度差异越明显。</li>
<li>均值：描述了图像中所有像素的平均灰度值。均值越大，表示图像中的亮度越高。</li>
<li>方差：描述了图像中所有像素的灰度值离均值的平均距离。方差越大，表示图像中的灰度值分布越广泛。</li>
<li>协同性：描述了图像中像素之间的关联性。协同性越高，表示图像中的不同区域之间的灰度值变化越连续。</li>
<li>相异性：描述了图像中像素之间的差异性。相异性越大，表示图像中的不同区域之间的灰度值差异越明显。</li>
<li>信息熵：描述了图像中像素的不确定性。信息熵越大，表示图像中的信息量越大。</li>
<li>二阶矩：描述了图像中灰度值的分布情况。二阶矩越大，表示图像中的灰度值分布越平均。</li>
<li>相关性：描述了图像中不同区域之间的相关性。相关性越高，表示图像中的不同区域之间的灰度值变化越趋于相似。</li>
</ol>
<h3 id="影像直方图匹配"><a href="#影像直方图匹配" class="headerlink" title="影像直方图匹配"></a>影像直方图匹配</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//去云 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">rmCloud</span>(<span class="params">image</span>) &#123; </span><br><span class="line">  <span class="keyword">var</span> qa = image.<span class="title function_">select</span>(<span class="string">&#x27;QA_PIXEL&#x27;</span>); </span><br><span class="line">  <span class="keyword">var</span> mask = qa.<span class="title function_">bitwiseAnd</span>(<span class="number">1</span> &lt;&lt; <span class="number">3</span>).<span class="title function_">eq</span>(<span class="number">0</span>) </span><br><span class="line">        .<span class="title function_">and</span>(qa.<span class="title function_">bitwiseAnd</span>(<span class="number">1</span> &lt;&lt; <span class="number">4</span>).<span class="title function_">eq</span>(<span class="number">0</span>)); </span><br><span class="line">  <span class="keyword">return</span> image.<span class="title function_">updateMask</span>(mask); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//缩放影像值 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">scaleImage</span>(<span class="params">image</span>) &#123; </span><br><span class="line">  <span class="keyword">var</span> time_start = image.<span class="title function_">get</span>(<span class="string">&quot;system:time_start&quot;</span>); </span><br><span class="line">  image = image.<span class="title function_">select</span>([<span class="string">&#x27;SR_B4&#x27;</span>, <span class="string">&#x27;SR_B3&#x27;</span>, <span class="string">&#x27;SR_B2&#x27;</span>], [<span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]) </span><br><span class="line">               .<span class="title function_">multiply</span>(<span class="number">0.0000275</span>).<span class="title function_">add</span>(-<span class="number">0.2</span>); </span><br><span class="line">  <span class="keyword">return</span> image.<span class="title function_">set</span>(<span class="string">&quot;system:time_start&quot;</span>, time_start); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//研究区域 </span></span><br><span class="line"><span class="keyword">var</span> roi = ee.<span class="property">Geometry</span>.<span class="title class_">Polygon</span>( </span><br><span class="line">        [[[<span class="number">119.77658497404211</span>, <span class="number">30.542135717928037</span>], </span><br><span class="line">          [<span class="number">119.77658497404211</span>, <span class="number">29.991792284424644</span>], </span><br><span class="line">          [<span class="number">120.62253223966711</span>, <span class="number">29.991792284424644</span>], </span><br><span class="line">          [<span class="number">120.62253223966711</span>, <span class="number">30.542135717928037</span>]]], <span class="literal">null</span>, <span class="literal">false</span>); </span><br><span class="line"><span class="comment">//高分辨率影像 </span></span><br><span class="line"><span class="keyword">var</span> planetImage = ee.<span class="title class_">Image</span>(<span class="string">&quot;users/wangweihappy0/20200906_022218_1008_3B_AnalyticMS&quot;</span>) </span><br><span class="line">                    .<span class="title function_">divide</span>(<span class="number">10000</span>) </span><br><span class="line">                    .<span class="title function_">select</span>([<span class="string">&quot;b3&quot;</span>, <span class="string">&quot;b2&quot;</span>, <span class="string">&quot;b1&quot;</span>], [<span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//landsat8 C2数据，这里需要注意的是landsat8 C1的数据已经要被废弃，以后使用C2数据 </span></span><br><span class="line"><span class="keyword">var</span> landsatImg = ee.<span class="title class_">ImageCollection</span>(<span class="string">&quot;LANDSAT/LC08/C02/T1_L2&quot;</span>) </span><br><span class="line">                  .<span class="title function_">filterDate</span>(<span class="string">&quot;2020-8-1&quot;</span>, <span class="string">&quot;2020-11-1&quot;</span>) </span><br><span class="line">                  .<span class="title function_">filterBounds</span>(roi) </span><br><span class="line">                  .<span class="title function_">map</span>(rmCloud) </span><br><span class="line">                  .<span class="title function_">map</span>(scaleImage) </span><br><span class="line">                  .<span class="title function_">median</span>() </span><br><span class="line">                  .<span class="title function_">clip</span>(roi); </span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(roi, <span class="number">10</span>); </span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(roi, &#123;<span class="attr">color</span>:<span class="string">&quot;red&quot;</span>&#125;, <span class="string">&quot;roi&quot;</span>); </span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(landsatImg, &#123;<span class="attr">bands</span>: [<span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;B&#x27;</span>], <span class="attr">min</span>:<span class="number">0</span>, <span class="attr">max</span>:<span class="number">0.3</span>&#125;, <span class="string">&quot;landsatImage&quot;</span>); </span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(planetImage, &#123;<span class="attr">bands</span>: [<span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;B&#x27;</span>], <span class="attr">min</span>:<span class="number">0.3</span>, <span class="attr">max</span>:<span class="number">0.8</span>&#125;, <span class="string">&quot;planetImage&quot;</span>); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//展示直方图 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showHistogram</span>(<span class="params">image, roi, name</span>) &#123; </span><br><span class="line">  <span class="keyword">var</span> options = &#123; </span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;波段直方图:&#x27;</span>+name, </span><br><span class="line">    <span class="attr">hAxis</span>: &#123;<span class="attr">title</span>: <span class="string">&#x27;DN&#x27;</span>&#125;, </span><br><span class="line">    <span class="attr">vAxis</span>: &#123;<span class="attr">title</span>: <span class="string">&#x27;数量&#x27;</span>&#125;, </span><br><span class="line">    <span class="attr">series</span>: &#123; </span><br><span class="line">      <span class="number">0</span>: &#123;<span class="attr">color</span>: <span class="string">&quot;red&quot;</span>&#125;, </span><br><span class="line">      <span class="number">1</span>: &#123;<span class="attr">color</span>: <span class="string">&quot;green&quot;</span>&#125;, </span><br><span class="line">      <span class="number">2</span>: &#123;<span class="attr">color</span>: <span class="string">&quot;blue&quot;</span>&#125; </span><br><span class="line">    &#125; </span><br><span class="line">  &#125;; </span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> histogram = ui.<span class="property">Chart</span>.<span class="property">image</span>.<span class="title function_">histogram</span>(&#123; </span><br><span class="line">    <span class="attr">image</span>: image.<span class="title function_">select</span>([<span class="string">&quot;R&quot;</span>, <span class="string">&quot;G&quot;</span>, <span class="string">&quot;B&quot;</span>]), </span><br><span class="line">    <span class="attr">region</span>: roi, </span><br><span class="line">    <span class="attr">maxBuckets</span>: <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>, <span class="number">8</span>), </span><br><span class="line">    <span class="attr">scale</span>: <span class="number">30</span>, </span><br><span class="line">    <span class="attr">maxPixels</span>: <span class="number">1e13</span> </span><br><span class="line">  &#125;).<span class="title function_">setSeriesNames</span>([<span class="string">&quot;redBand&quot;</span>, <span class="string">&quot;greenBand&quot;</span>, <span class="string">&quot;blueBand&quot;</span>]) </span><br><span class="line">  .<span class="title function_">setOptions</span>(options); </span><br><span class="line">  <span class="title function_">print</span>(histogram); </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//展示两张影像直方图 </span></span><br><span class="line"><span class="title function_">showHistogram</span>(landsatImg, planetImage.<span class="title function_">geometry</span>(), <span class="string">&quot;原始&quot;</span>); </span><br><span class="line"><span class="title function_">showHistogram</span>(planetImage, planetImage.<span class="title function_">geometry</span>(), <span class="string">&quot;目标&quot;</span>); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//寻找原始影像数据列表和目标影像数据列表对应的值 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">lookup</span>(<span class="params">sourceHist, targetHist</span>) &#123; </span><br><span class="line">  <span class="comment">//第一列数据是原始值，第二列是统计的累积数量 </span></span><br><span class="line">  <span class="keyword">var</span> sourceValues = sourceHist.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>).<span class="title function_">project</span>([<span class="number">0</span>]); </span><br><span class="line">  <span class="keyword">var</span> sourceCounts = sourceHist.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>).<span class="title function_">project</span>([<span class="number">0</span>]); </span><br><span class="line">  sourceCounts = sourceCounts.<span class="title function_">divide</span>(sourceCounts.<span class="title function_">get</span>([-<span class="number">1</span>])); </span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> targetValues = targetHist.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>).<span class="title function_">project</span>([<span class="number">0</span>]); </span><br><span class="line">  <span class="keyword">var</span> targetCounts = targetHist.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>).<span class="title function_">project</span>([<span class="number">0</span>]); </span><br><span class="line">  targetCounts = targetCounts.<span class="title function_">divide</span>(targetCounts.<span class="title function_">get</span>([-<span class="number">1</span>])); </span><br><span class="line"> </span><br><span class="line">  <span class="comment">//遍历原始数据值，查找大于这个值的最大索引，然后返回对应的数据 </span></span><br><span class="line">  <span class="keyword">var</span> yValues = sourceCounts.<span class="title function_">toList</span>().<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">n</span>) &#123; </span><br><span class="line">    <span class="keyword">var</span> index = targetCounts.<span class="title function_">gte</span>(n).<span class="title function_">argmax</span>(); </span><br><span class="line">    <span class="keyword">return</span> targetValues.<span class="title function_">get</span>(index); </span><br><span class="line">  &#125;); </span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">x</span>: sourceValues.<span class="title function_">toList</span>(), <span class="attr">y</span>: yValues&#125;; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//直方图匹配 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">histogramMatching</span>(<span class="params">sourceImg, targetImg</span>) &#123; </span><br><span class="line">  <span class="keyword">var</span> geom = sourceImg.<span class="title function_">geometry</span>(); </span><br><span class="line">  <span class="keyword">var</span> args = &#123; </span><br><span class="line">    <span class="attr">reducer</span>: ee.<span class="property">Reducer</span>.<span class="title function_">autoHistogram</span>(&#123;<span class="attr">maxBuckets</span>: <span class="number">256</span>, <span class="attr">cumulative</span>: <span class="literal">true</span>&#125;), </span><br><span class="line">    <span class="attr">geometry</span>: geom, </span><br><span class="line">    <span class="attr">scale</span>: <span class="number">30</span>, </span><br><span class="line">    <span class="attr">maxPixels</span>: <span class="number">1e13</span>, </span><br><span class="line">    <span class="attr">tileScale</span>: <span class="number">16</span> </span><br><span class="line">  &#125;; </span><br><span class="line">  <span class="keyword">var</span> source = sourceImg.<span class="title function_">reduceRegion</span>(args); </span><br><span class="line">  <span class="keyword">var</span> target = targetImg.<span class="title function_">updateMask</span>(sourceImg.<span class="title function_">mask</span>()) </span><br><span class="line">                        .<span class="title function_">reduceRegion</span>(args); </span><br><span class="line">  <span class="comment">//使用插值生成对应的数据 </span></span><br><span class="line">  <span class="keyword">var</span> red = sourceImg.<span class="title function_">select</span>([<span class="string">&#x27;R&#x27;</span>]).<span class="title function_">interpolate</span>(<span class="title function_">lookup</span>(source.<span class="title function_">getArray</span>(<span class="string">&#x27;R&#x27;</span>), target.<span class="title function_">getArray</span>(<span class="string">&#x27;R&#x27;</span>))); </span><br><span class="line">  <span class="keyword">var</span> green = sourceImg.<span class="title function_">select</span>([<span class="string">&#x27;G&#x27;</span>]).<span class="title function_">interpolate</span>(<span class="title function_">lookup</span>(source.<span class="title function_">getArray</span>(<span class="string">&#x27;G&#x27;</span>), target.<span class="title function_">getArray</span>(<span class="string">&#x27;G&#x27;</span>))); </span><br><span class="line">  <span class="keyword">var</span> blue = sourceImg.<span class="title function_">select</span>([<span class="string">&#x27;B&#x27;</span>]).<span class="title function_">interpolate</span>(<span class="title function_">lookup</span>(source.<span class="title function_">getArray</span>(<span class="string">&#x27;B&#x27;</span>), target.<span class="title function_">getArray</span>(<span class="string">&#x27;B&#x27;</span>))); </span><br><span class="line">  <span class="comment">//生成RGB图像 </span></span><br><span class="line">  <span class="keyword">return</span> ee.<span class="property">Image</span>.<span class="title function_">cat</span>(red,green, blue); </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> result = <span class="title function_">histogramMatching</span>(planetImage, landsatImg); </span><br><span class="line"><span class="title class_">Map</span>.<span class="title function_">addLayer</span>(result, &#123;<span class="attr">min</span>: <span class="number">0</span>, <span class="attr">max</span>: <span class="number">0.25</span>, <span class="attr">bands</span>: [<span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]&#125;, <span class="string">&#x27;result&#x27;</span>); </span><br></pre></td></tr></table></figure>





<h2 id="Javascript基础"><a href="#Javascript基础" class="headerlink" title="Javascript基础"></a>Javascript基础</h2><h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><h4 id="1）if语句"><a href="#1）if语句" class="headerlink" title="1）if语句"></a>1）if语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件为真) 执行操作</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//当条件满足时，如果我们想要执行多条语句，可以使用一对花括号，把在条件满足时需要执行的语句包含进去，格式如下</span></span><br><span class="line"><span class="keyword">if</span> (条件满足)&#123;</span><br><span class="line">	执行语句<span class="number">1</span>;</span><br><span class="line">	执行语句<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果想实现条件不满足时执行某些操作，格式如下</span></span><br><span class="line"><span class="keyword">if</span>(条件)&#123;</span><br><span class="line">	语句<span class="number">1</span>;</span><br><span class="line">	语句<span class="number">2</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	语句<span class="number">3</span>;</span><br><span class="line">	语句<span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//此外，还可以利用IF语句进行多条件判断</span></span><br><span class="line"><span class="keyword">if</span>(条件)&#123;</span><br><span class="line">	语句<span class="number">1</span>;</span><br><span class="line">	语句<span class="number">2</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(条件<span class="number">2</span>)&#123;</span><br><span class="line">	语句<span class="number">3</span>;</span><br><span class="line">	语句<span class="number">4</span>;</span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">	语句<span class="number">5</span>;</span><br><span class="line">	语句<span class="number">6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//此外IF语句还有简单方法，如下</span></span><br><span class="line">(条件为真)?[条件为真时执行]:[条件为假时执行]</span><br></pre></td></tr></table></figure>



<h4 id="2）switch语句"><a href="#2）switch语句" class="headerlink" title="2）switch语句"></a>2）switch语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果要对统一条件语句的多种不同可能进行判断，更简洁的语法是使用JavaScript的switch语句</span></span><br><span class="line"><span class="keyword">switch</span>(color)&#123;</span><br><span class="line">	<span class="keyword">case</span>  <span class="string">&quot;red&quot;</span>:</span><br><span class="line">		a=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span>  <span class="string">&quot;yellow&quot;</span>:</span><br><span class="line">		b=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">default</span> :</span><br><span class="line">		a=<span class="number">2</span>;</span><br><span class="line">		b=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在关键字switch之后，用圆括号来包含要判断的变量，实际的判断操作位于一对花括号中。每个case语句对应的值都包含在引号里，然后是一个冒号，接着是满足当前条件的执行语句，语句的数量没有限制</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//注意每个case之后的break语句，它会在case部分的语句执行完成之后，把程序跳转到switch语句的末尾。如果没有这个break语句，就可能有多个case区域的语句被执行。default部分是可选的，他可以在任何case都不匹配的情况下执行一些操作。</span></span><br></pre></td></tr></table></figure>



<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><p>​		在很多情况下，我们需要反复进行某些操作。如果这种操作是固定的，我们可以重复编写这些代码，并利用一个变量进行计数，但代码会很混乱。JavaScript提供了这种循环结构可以实现上述目标。</p>
<h4 id="1）while语句"><a href="#1）while语句" class="headerlink" title="1）while语句"></a>1）while语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件满足)&#123;</span><br><span class="line">	语句<span class="number">1</span>;</span><br><span class="line">语句<span class="number">2</span>;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2）do…while语句"><a href="#2）do…while语句" class="headerlink" title="2）do…while语句"></a>2）do…while语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在while语句中，会先执行条件判断，当条件满足时，会执行语句；在do...while语句中，不论条件是否满足，都会先执行一次语句，然后再进行条件判断</span></span><br><span class="line"><span class="comment">//先执行语句再进行判断</span></span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">	语句<span class="number">1</span>;</span><br><span class="line">语句<span class="number">2</span>;</span><br><span class="line">...</span><br><span class="line">&#125;<span class="keyword">while</span>(条件满足)</span><br></pre></td></tr></table></figure>

<h4 id="3）for循环"><a href="#3）for循环" class="headerlink" title="3）for循环"></a>3）for循环</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在使用for循环时，我们可以指定初始条件、判断条件、在每次循环后修改计数变量的方式</span></span><br><span class="line"><span class="keyword">for</span> (x=<span class="number">0</span>,x&lt;<span class="number">10</span>,x++)&#123;</span><br><span class="line">	...执行这些语句...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//该语句的含义为：x的初始值为0，当x小于10时，每次循环之后x的值加1，执行相应的代码块如果没有提前声明计数变量，我们可以在for语句里直接声明    </span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x=<span class="number">0</span> , x&lt;<span class="number">10</span> , x++)&#123;</span><br><span class="line">	...执行这些语句...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-for…in循环"><a href="#4-for…in循环" class="headerlink" title="4)for…in循环"></a>4)for…in循环</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//i会依次赋予数组中的值</span></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> 数组)&#123;</span><br><span class="line">	...执行这些语句...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h3><p>​		很多情况下，程序在执行过程中会反复完成相同或类似的任务，为了避免多次重复编写相同的代码段，JavaScript把部分代码包装在能够重复使用的模块，称为函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayhello</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;hello!!!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//我们还可以通过象函数传递数据来大大地扩展函数的功能，其实现方法是在调用函数时给他传递一个或多个“参数”，函数内部声明的变量只在函数内部有效</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">time</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(a*b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数还可以设置返回值用于输出结果</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">time</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">	<span class="keyword">var</span> c=a+b;</span><br><span class="line">	<span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数声明后，可以通过如下方式进行调用</span></span><br><span class="line"><span class="title function_">sayhello</span>();</span><br><span class="line">sum=<span class="title function_">time</span>(d,f);</span><br></pre></td></tr></table></figure>





<h2 id="GEE中构建自己的函数库："><a href="#GEE中构建自己的函数库：" class="headerlink" title="GEE中构建自己的函数库："></a>GEE中构建自己的函数库：</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例如构建计算ndvi和ndwi指数的函数库</span></span><br><span class="line"><span class="keyword">var</span> indexes = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">indexes.<span class="property">cal_ndvi</span> = <span class="keyword">function</span>(<span class="params">image</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> ndvi = image.<span class="title function_">normalizedDifference</span>([<span class="string">&quot;B8&quot;</span>,<span class="string">&quot;B4&quot;</span>]).<span class="title function_">rename</span>(<span class="string">&#x27;NDVI&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> date = image.<span class="title function_">get</span>(<span class="string">&#x27;system:time_start&#x27;</span>);              </span><br><span class="line">  <span class="keyword">return</span> ndvi.<span class="title function_">set</span>(<span class="string">&#x27;system:time_start&#x27;</span>, date);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">indexes.<span class="property">cal_ndwi</span> = <span class="keyword">function</span>(<span class="params">image</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> ndwi = image.<span class="title function_">normalizedDifference</span>([<span class="string">&#x27;B3&#x27;</span>,<span class="string">&#x27;B8&#x27;</span>]).<span class="title function_">rename</span>(<span class="string">&#x27;NDWI&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> date = image.<span class="title function_">get</span>(<span class="string">&#x27;system:time_start&#x27;</span>);</span><br><span class="line">  <span class="keyword">return</span> ndwi.<span class="title function_">set</span>(<span class="string">&#x27;system:time_start&#x27;</span>, date);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span> = indexes;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//调用时只需在另一脚本下require目标函数库的路径即可</span></span><br></pre></td></tr></table></figure>







<p>最优特征子集：特征选择的目标是选择最优特征的子集，将一些不相关或者冗余的特征剔除，优化特征向量，避免不相关或冗余特征的干扰，提高模型的精度，提升模型的效率。</p>
<p>表征物候的指标：</p>
<p>SOS：开始期</p>
<p>EOS：结束期</p>
<p>POS：成熟期</p>
<p>LOS：生长季长度</p>
<p>其余十个指标。</p>
<p><strong>ee.join.saveAll（matchesKey，ordering，ascending，measureKey，outer）</strong></p>
<p>​		作用：返回一个连接，该连接可以将第一个集合当中的每个元素与第二个集合当中的一组元素进行匹配。匹配列表作为附加属性会被添加到每个结果中。如果指定了measure Key参数，那么每一组匹配项都附加一个连接度量值。当withinDistance或maxDifference筛选器被用作连接条件时，会生成连接度量值。</p>
<p>返回值：连接（Join）</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>matchesKey</td>
<td>String</td>
<td>用于保存匹配列表的属性名称。</td>
</tr>
<tr>
<td>ordering</td>
<td>String, default: null</td>
<td>对匹配列表进行排序的属性。</td>
</tr>
<tr>
<td>ascending</td>
<td>Boolean, default: true</td>
<td>排序（ordering）是否为升序。</td>
</tr>
<tr>
<td>measureKey</td>
<td>String, default: null</td>
<td>一个可选的属性名称，用于保存每个匹配项的连接条件的度量。</td>
</tr>
<tr>
<td>outer</td>
<td>Boolean, default: false</td>
<td>如果为真，则结果将包含没有匹配的主行。</td>
</tr>
</tbody></table>
<p>An enhanced pixel-based phenological feature for accurate paddy rice  mapping with Sentinel-2 imagery in Google Earth Engine </p>
<p>Phenology-Driven Land Cover Classification and Trend Analysis Based on Long-term Remote Sensing Image Series</p>
<h4 id="解决GEE中内存溢出问题"><a href="#解决GEE中内存溢出问题" class="headerlink" title="解决GEE中内存溢出问题"></a>解决GEE中内存溢出问题</h4><p>​		在 Google Earth Engine（GEE）平台上处理大型数据集时，加载整个数据集可能导致内存不足的问题。分块处理可以将数据划分为小块，逐块处理，从而有效降低内存压力。这对于处理大规模数据集、避免系统崩溃和提高算法性能至关重要。通过分块处理，优化 GEE 中对大规模数据集的操作，以提高效率、降低资源消耗。</p>
<img src="https://img-blog.csdnimg.cn/direct/16868f3c1d5448c7a490f5e88432e674.png" alt="img" style="zoom:30%;" />

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Map</span>.<span class="title function_">centerObject</span>(table, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 记录程序开始时间</span></span><br><span class="line"><span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&#x27;程序开始时间&#x27;</span>, startTime);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> eevp = <span class="built_in">require</span>(<span class="string">&#x27;users/949384116/lib:Tools/VectorProcessor&#x27;</span>)<span class="comment">//API函数库</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> featureCollection = eevp.<span class="title function_">vecSplitByRowCol</span>(table.<span class="title function_">geometry</span>(), <span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">    .<span class="title function_">filterBounds</span>(table.<span class="title function_">geometry</span>())</span><br><span class="line">    .<span class="title function_">toList</span>(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">featureCollection.<span class="title function_">size</span>().evaluate(<span class="keyword">function</span> (<span class="params">nSize</span>) &#123;</span><br><span class="line">    <span class="comment">// print(&#x27;Feature Collection Size: &#x27;, nSize)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nSize; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> smallVec = eevp.<span class="title function_">getSmallVec</span>(featureCollection, i, table.<span class="title function_">geometry</span>());</span><br><span class="line">        <span class="title class_">Map</span>.<span class="title function_">addLayer</span>(smallVec, &#123;&#125;, <span class="string">&#x27;Vec &#x27;</span> + i);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这里可以使用分块后的矢量数据去处理自定义代码</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 记录结束时间</span></span><br><span class="line"><span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&#x27;程序结束时间&#x27;</span>, endTime);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算执行时间（以毫秒为单位）</span></span><br><span class="line"><span class="keyword">var</span> executionTimeMS = endTime - startTime;</span><br><span class="line"><span class="keyword">var</span> executionTimeStringMS = executionTimeMS.<span class="title function_">toString</span>() + <span class="string">&#x27; 毫秒&#x27;</span>;</span><br><span class="line"><span class="title function_">print</span>(<span class="string">&#x27;程序执行时间: &#x27;</span> + executionTimeStringMS);</span><br></pre></td></tr></table></figure>




    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/06/21/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/" rel="prev" title="我的第一篇文章">
      <i class="fa fa-chevron-left"></i> 我的第一篇文章
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6String"><span class="nav-number">1.</span> <span class="nav-text">字符String</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E5%8F%98%E9%87%8F"><span class="nav-number">1.1.</span> <span class="nav-text">字符变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E9%93%BE%E6%8E%A5%E8%80%A6%E5%90%88"><span class="nav-number">1.2.</span> <span class="nav-text">字符链接耦合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2%E5%91%BD%E4%BB%A4"><span class="nav-number">1.3.</span> <span class="nav-text">替换命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8C%B9%E9%85%8D%E5%91%BD%E4%BB%A4"><span class="nav-number">1.4.</span> <span class="nav-text">匹配命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E5%89%B2%E6%93%8D%E4%BD%9C"><span class="nav-number">1.5.</span> <span class="nav-text">分割操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%AA%E5%8F%96%E6%93%8D%E4%BD%9C"><span class="nav-number">1.6.</span> <span class="nav-text">截取操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%95%BF%E5%BA%A6%E6%B5%8B%E9%87%8F%E5%91%BD%E4%BB%A4"><span class="nav-number">1.7.</span> <span class="nav-text">长度测量命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%AD%97Number"><span class="nav-number">2.</span> <span class="nav-text">数字Number</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E5%AD%97"><span class="nav-number">2.1.</span> <span class="nav-text">创建数字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="nav-number">2.2.</span> <span class="nav-text">数字格式的转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E6%AF%94%E8%BE%83"><span class="nav-number">2.3.</span> <span class="nav-text">数字比较</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.</span> <span class="nav-text">数字逻辑操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E5%AE%83%E5%87%BD%E6%95%B0%E6%93%8D%E4%BD%9C"><span class="nav-number">2.5.</span> <span class="nav-text">其它函数操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="nav-number">2.6.</span> <span class="nav-text">数字数学运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E7%9A%84%E6%98%AF%E9%9D%9E%E6%AF%94%E8%BE%83"><span class="nav-number">2.7.</span> <span class="nav-text">数字的是非比较</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="nav-number">2.8.</span> <span class="nav-text">位运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%A7%BB%E4%BD%8D%E6%93%8D%E4%BD%9C"><span class="nav-number">2.9.</span> <span class="nav-text">位运算移位操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E5%85%B8"><span class="nav-number">3.</span> <span class="nav-text">字典</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E5%85%B8%E5%90%88%E5%B9%B6combine"><span class="nav-number">3.1.</span> <span class="nav-text">字典合并combine</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E5%86%85%E5%AE%B9%E5%91%BD%E4%BB%A4set"><span class="nav-number">3.2.</span> <span class="nav-text">更改内容命令set</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%88%E5%88%97%E5%91%BD%E4%BB%A4key"><span class="nav-number">3.3.</span> <span class="nav-text">陈列命令key</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E5%91%BD%E4%BB%A4get"><span class="nav-number">3.4.</span> <span class="nav-text">读取命令get</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E8%AF%8D%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%91%BD%E4%BB%A4contains"><span class="nav-number">3.5.</span> <span class="nav-text">关键词是否存在命令contains</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E5%85%B8%E5%B0%BA%E5%AF%B8%E6%9F%A5%E8%AF%A2%E5%91%BD%E4%BB%A4size"><span class="nav-number">3.6.</span> <span class="nav-text">字典尺寸查询命令size</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#List"><span class="nav-number">4.</span> <span class="nav-text">List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%91%BD%E4%BB%A4"><span class="nav-number">4.1.</span> <span class="nav-text">创建命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%89%E5%B7%AE%E5%88%9B%E5%BB%BA%E5%91%BD%E4%BB%A4"><span class="nav-number">4.2.</span> <span class="nav-text">等差创建命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2%E5%91%BD%E4%BB%A4-1"><span class="nav-number">4.3.</span> <span class="nav-text">替换命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E4%B8%8E%E6%8F%92%E5%85%A5"><span class="nav-number">4.4.</span> <span class="nav-text">添加与插入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%93%E5%8C%85%E5%91%BD%E4%BB%A4"><span class="nav-number">4.5.</span> <span class="nav-text">打包命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%80%92%E7%BD%AE%E5%92%8C%E8%BD%AC%E7%BD%AE"><span class="nav-number">4.6.</span> <span class="nav-text">倒置和转置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E5%91%BD%E4%BB%A4"><span class="nav-number">4.7.</span> <span class="nav-text">排序命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E4%BA%92%E6%8D%A2%E5%91%BD%E4%BB%A4"><span class="nav-number">4.8.</span> <span class="nav-text">位置互换命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E5%91%BD%E4%BB%A4"><span class="nav-number">4.9.</span> <span class="nav-text">map命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E5%91%BD%E4%BB%A4"><span class="nav-number">4.10.</span> <span class="nav-text">循环命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5Array"><span class="nav-number">5.</span> <span class="nav-text">矩阵Array</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E6%9E%84%E5%BB%BA"><span class="nav-number">5.1.</span> <span class="nav-text">矩阵构建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%BD%8D%E7%9F%A9%E9%98%B5%E6%9E%84%E5%BB%BA"><span class="nav-number">5.2.</span> <span class="nav-text">单位矩阵构建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E9%87%8D%E5%A4%8D%E5%91%BD%E4%BB%A4"><span class="nav-number">5.3.</span> <span class="nav-text">矩阵重复命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E5%80%92%E7%BD%AE%E5%91%BD%E4%BB%A4"><span class="nav-number">5.4.</span> <span class="nav-text">矩阵倒置命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2%E5%91%BD%E4%BB%A4"><span class="nav-number">5.5.</span> <span class="nav-text">数据转换命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E6%AF%94%E8%BE%83%E5%91%BD%E4%BB%A4%E2%80%94%E2%80%94%E5%8F%82%E7%85%A7Number"><span class="nav-number">5.6.</span> <span class="nav-text">矩阵比较命令——参照Number</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E4%BA%A4%E3%80%81%E5%B9%B6%E5%91%BD%E4%BB%A4"><span class="nav-number">5.7.</span> <span class="nav-text">矩阵的交、并命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GEE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number"></span> <span class="nav-text">GEE数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Geometry"><span class="nav-number">1.</span> <span class="nav-text">Geometry</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%82%B9%E4%B8%8E%E5%A4%9A%E7%82%B9%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.1.</span> <span class="nav-text">点与多点的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%BF%E6%AE%B5%E4%B8%8E%E5%A4%9A%E7%BA%BF%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.2.</span> <span class="nav-text">线段与多线的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E7%8E%AF%E7%BA%BF%E4%B8%8E%E5%A4%9A%E7%8E%AF%E7%BA%BF%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.3.</span> <span class="nav-text">单环线与多环线的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%A2%E4%B8%8E%E6%AD%A3%E6%96%B9%E5%BD%A2%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.4.</span> <span class="nav-text">面与正方形的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9D%90%E6%A0%87%E7%B3%BB%E8%BD%AC%E6%8D%A2%E4%B8%8E%E6%98%BE%E7%A4%BA%E6%95%88%E6%9E%9C"><span class="nav-number">1.5.</span> <span class="nav-text">坐标系转换与显示效果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B1%82Geometry%E4%B8%AD%E5%BF%83%E7%82%B9"><span class="nav-number">1.6.</span> <span class="nav-text">求Geometry中心点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Geometry-%E7%9A%84%E5%9B%9B%E8%87%B3%E5%92%8C%E5%87%B8%E5%8C%85"><span class="nav-number">1.7.</span> <span class="nav-text">Geometry 的四至和凸包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Geometry-%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="nav-number">1.8.</span> <span class="nav-text">Geometry 缓冲区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B1%82%E5%8F%96Geometry%E5%B9%B6%E9%9B%86"><span class="nav-number">1.9.</span> <span class="nav-text">求取Geometry并集</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Feature"><span class="nav-number">2.</span> <span class="nav-text">Feature</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">2.1.</span> <span class="nav-text">Feature的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature%E7%9A%84%E9%80%89%E6%8B%A9%E5%88%9B%E5%BB%BA"><span class="nav-number">2.2.</span> <span class="nav-text">Feature的选择创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature%E5%B1%9E%E6%80%A7%E6%94%B9%E5%86%99"><span class="nav-number">2.3.</span> <span class="nav-text">Feature属性改写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature%E7%A9%BA%E9%97%B4%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.</span> <span class="nav-text">Feature空间操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature%E7%9A%84%E9%9D%A2%E7%A7%AF%E5%92%8C%E5%91%A8%E9%95%BF"><span class="nav-number">2.5.</span> <span class="nav-text">Feature的面积和周长</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature-%E7%9A%84%E7%A9%BA%E9%97%B4%E4%BF%A1%E6%81%AF%E5%92%8C%E5%B1%9E%E6%80%A7%E4%BF%A1%E6%81%AF%E7%9A%84%E6%8F%90%E5%8F%96"><span class="nav-number">2.6.</span> <span class="nav-text">Feature 的空间信息和属性信息的提取</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FeatureCollection"><span class="nav-number">3.</span> <span class="nav-text">FeatureCollection</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FeatureCollection%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">3.1.</span> <span class="nav-text">FeatureCollection的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FeatureCollection%E7%9A%84%E9%9A%8F%E6%9C%BA%E7%82%B9%E7%94%9F%E6%88%90"><span class="nav-number">3.2.</span> <span class="nav-text">FeatureCollection的随机点生成</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FeatureCollection%E7%9A%84%E5%B1%9E%E6%80%A7%E7%AD%9B%E9%80%89"><span class="nav-number">3.3.</span> <span class="nav-text">FeatureCollection的属性筛选</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FeatureCollection%E7%9A%84%E6%95%B0%E9%87%8F%E9%99%90%E5%88%B6%E5%91%BD%E4%BB%A4"><span class="nav-number">3.4.</span> <span class="nav-text">FeatureCollection的数量限制命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E7%AD%9B%E9%80%89%E5%91%BD%E4%BB%A4"><span class="nav-number">3.5.</span> <span class="nav-text">时间筛选命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A9%BA%E9%97%B4%E7%AD%9B%E9%80%89%E5%91%BD%E4%BB%A4"><span class="nav-number">3.6.</span> <span class="nav-text">空间筛选命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E5%A4%8D%E5%88%B6%E5%91%BD%E4%BB%A4"><span class="nav-number">3.7.</span> <span class="nav-text">选择复制命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E5%91%BD%E4%BB%A4"><span class="nav-number">3.8.</span> <span class="nav-text">去除重复命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%9E%8D%E5%90%88%E5%92%8C%E8%81%94%E5%90%88%E5%91%BD%E4%BB%A4"><span class="nav-number">3.9.</span> <span class="nav-text">融合和联合命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E6%94%B9%E5%86%99"><span class="nav-number">3.10.</span> <span class="nav-text">属性改写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Remap%E5%91%BD%E4%BB%A4-%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9"><span class="nav-number">3.11.</span> <span class="nav-text">Remap命令(批量修改)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E5%91%BD%E4%BB%A4-1"><span class="nav-number">3.12.</span> <span class="nav-text">排序命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature-Collection-%E7%9A%84%E6%8F%90%E5%8F%96Geometry-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.13.</span> <span class="nav-text">Feature Collection 的提取Geometry 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature-Collection-%E7%9A%84%E7%9F%A2%E9%87%8F%E8%BD%AC%E6%A0%85%E6%A0%BC%E5%91%BD%E4%BB%A4"><span class="nav-number">3.14.</span> <span class="nav-text">Feature Collection 的矢量转栅格命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature-Collection-%E7%9A%84%E5%8F%96%E9%A6%96%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%91%BD%E4%BB%A4"><span class="nav-number">3.15.</span> <span class="nav-text">Feature Collection 的取首个数据命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature-Collection-%E8%BD%ACList-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.16.</span> <span class="nav-text">Feature Collection 转List 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature-Collection-%E5%B1%9E%E6%80%A7%E7%BB%9F%E8%AE%A1%E5%91%BD%E4%BB%A4"><span class="nav-number">3.17.</span> <span class="nav-text">Feature Collection 属性统计命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Feature-Collection-%E7%9A%84-map-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.18.</span> <span class="nav-text">Feature Collection 的.map()命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Image"><span class="nav-number">4.</span> <span class="nav-text">Image</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E6%95%B0%E6%8D%AE%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">4.1.</span> <span class="nav-text">栅格数据的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A9%E8%86%9C%E5%88%86%E6%9E%90-mask"><span class="nav-number">4.2.</span> <span class="nav-text">掩膜分析(mask)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E8%A3%81%E5%89%AA"><span class="nav-number">4.3.</span> <span class="nav-text">栅格裁剪</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E9%80%89%E6%8B%A9%E5%88%9B%E5%BB%BA"><span class="nav-number">4.4.</span> <span class="nav-text">栅格选择创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A2%E6%AE%B5%E8%A3%81%E5%8F%96%E5%88%9B%E5%BB%BA"><span class="nav-number">4.5.</span> <span class="nav-text">波段裁取创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E6%B7%BB%E5%8A%A0"><span class="nav-number">4.6.</span> <span class="nav-text">栅格的添加</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E9%87%8D%E6%8A%95%E5%BD%B1"><span class="nav-number">4.7.</span> <span class="nav-text">栅格的重投影</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E8%89%B2%E5%BD%A9%E8%BD%AC%E6%8D%A2"><span class="nav-number">4.8.</span> <span class="nav-text">栅格的色彩转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E6%95%B0%E5%AD%97%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="nav-number">4.9.</span> <span class="nav-text">栅格数字格式转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E6%94%B9%E5%86%99-1"><span class="nav-number">4.10.</span> <span class="nav-text">属性改写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Remap%E5%91%BD%E4%BB%A4"><span class="nav-number">4.11.</span> <span class="nav-text">Remap命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E5%8C%BA%E9%97%B4%E8%B5%8B%E5%80%BC"><span class="nav-number">4.12.</span> <span class="nav-text">栅格区间赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E4%B8%80%E5%80%BC%E5%8C%96"><span class="nav-number">4.13.</span> <span class="nav-text">栅格一值化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E6%8F%92%E5%80%BC"><span class="nav-number">4.14.</span> <span class="nav-text">栅格插值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E6%AF%94%E8%BE%83%E7%AD%9B%E9%80%89"><span class="nav-number">4.15.</span> <span class="nav-text">栅格的比较筛选</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="nav-number">4.16.</span> <span class="nav-text">栅格的逻辑运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="nav-number">4.17.</span> <span class="nav-text">栅格数学运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%90%E7%AE%97"><span class="nav-number">4.18.</span> <span class="nav-text">栅格的表达式运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="nav-number">4.19.</span> <span class="nav-text">栅格的位运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E5%BE%AE%E5%88%86%E6%93%8D%E4%BD%9C"><span class="nav-number">4.20.</span> <span class="nav-text">栅格微分操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E5%9C%B0%E5%BD%A2%E6%93%8D%E4%BD%9C"><span class="nav-number">4.21.</span> <span class="nav-text">栅格的地形操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">4.22.</span> <span class="nav-text">函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9ANDWI%E8%AE%A1%E7%AE%97%EF%BC%88landsat8%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">案例：NDWI计算（landsat8）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E5%B1%B1%E4%BD%93%E9%98%B4%E5%BD%B1%E6%93%8D%E4%BD%9C-Map%E7%BB%84%E4%BB%B6"><span class="nav-number">0.1.</span> <span class="nav-text">栅格的山体阴影操作&#x2F; Map组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E5%A1%AB%E6%B4%BC%E6%93%8D%E4%BD%9C"><span class="nav-number">0.2.</span> <span class="nav-text">栅格填洼操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%86%B5%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="nav-number">0.3.</span> <span class="nav-text">熵值操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#glcm%E7%BA%B9%E7%90%86%E6%93%8D%E4%BD%9C"><span class="nav-number">0.4.</span> <span class="nav-text">glcm纹理操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#zeroCrossing%E6%93%8D%E4%BD%9C"><span class="nav-number">0.5.</span> <span class="nav-text">zeroCrossing操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CannyEdge%E7%BA%B9%E7%90%86%E6%93%8D%E4%BD%9C%EF%BC%88%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8BCanny%E7%AE%97%E5%AD%90%EF%BC%89"><span class="nav-number">0.6.</span> <span class="nav-text">CannyEdge纹理操作（边缘检测Canny算子）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E8%B7%9D%E7%A6%BB%E6%93%8D%E4%BD%9C"><span class="nav-number">0.7.</span> <span class="nav-text">栅格距离操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E5%8D%B7%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="nav-number">0.8.</span> <span class="nav-text">栅格的卷据操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E7%9A%84%E9%82%BB%E5%9F%9F%E7%BC%A9%E5%87%8F%E6%93%8D%E4%BD%9C"><span class="nav-number">0.9.</span> <span class="nav-text">*栅格的邻域缩减操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E8%BD%AC%E7%9F%A2%E9%87%8F"><span class="nav-number">0.10.</span> <span class="nav-text">栅格转矢量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E4%B8%80%E7%BB%B4%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C"><span class="nav-number">0.11.</span> <span class="nav-text">栅格一维矩阵操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E5%8C%BA%E5%9F%9F%E7%BB%9F%E8%AE%A1%E6%93%8D%E4%BD%9C"><span class="nav-number">0.12.</span> <span class="nav-text">栅格区域统计操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%85%E6%A0%BC%E8%BE%93%E5%87%BA%E6%93%8D%E4%BD%9C"><span class="nav-number">0.13.</span> <span class="nav-text">栅格输出操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RGB%E7%BB%84%E5%90%88"><span class="nav-number">0.14.</span> <span class="nav-text">RGB组合</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ImageCollection"><span class="nav-number">1.</span> <span class="nav-text">ImageCollection</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ImageCollection%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.1.</span> <span class="nav-text">ImageCollection的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ImageCollection%E7%9A%84%E7%AD%9B%E9%80%89"><span class="nav-number">1.2.</span> <span class="nav-text">ImageCollection的筛选</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ImageCollection%E7%9A%84%E9%99%90%E5%88%B6%E7%AD%9B%E9%80%89"><span class="nav-number">1.3.</span> <span class="nav-text">ImageCollection的限制筛选</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ImageCollection%E7%9A%84%E9%80%89%E6%8B%A9%E5%88%9B%E5%BB%BA"><span class="nav-number">1.4.</span> <span class="nav-text">ImageCollection的选择创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.</span> <span class="nav-text">.map 命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Landsat-Images"><span class="nav-number">2.</span> <span class="nav-text">Landsat Images</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#qualityMosaic-%E5%91%BD%E4%BB%A4"><span class="nav-number">2.1.</span> <span class="nav-text">qualityMosaic 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%89%E8%B0%B1%E5%88%86%E7%A6%BB%E5%91%BD%E4%BB%A4"><span class="nav-number">2.2.</span> <span class="nav-text">光谱分离命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%92%E4%B8%80%E5%8C%96%E5%B7%AE%E5%80%BC%E8%BF%90%E7%AE%97"><span class="nav-number">2.3.</span> <span class="nav-text">归一化差值运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%91%E9%87%8F%E6%8C%87%E6%95%B0%E8%AE%A1%E7%AE%97"><span class="nav-number">2.4.</span> <span class="nav-text">云量指数计算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%BB%E4%BA%91%E5%90%88%E6%88%90"><span class="nav-number">2.5.</span> <span class="nav-text">去云合成</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Confusion-Matrix"><span class="nav-number">3.</span> <span class="nav-text">Confusion Matrix</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B7%E6%B7%86%E7%9F%A9%E9%98%B5%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">3.1.</span> <span class="nav-text">混淆矩阵的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B7%E6%B7%86%E7%9F%A9%E9%98%B5%E8%B4%A8%E9%87%8F%E7%BB%93%E6%9E%9C%E8%AE%A1%E7%AE%97"><span class="nav-number">3.2.</span> <span class="nav-text">混淆矩阵质量结果计算</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Filter"><span class="nav-number">4.</span> <span class="nav-text">Filter</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89"><span class="nav-number">4.1.</span> <span class="nav-text">属性条件筛选</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#join"><span class="nav-number">5.</span> <span class="nav-text">join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reducer"><span class="nav-number">6.</span> <span class="nav-text">Reducer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%BF%E6%80%A7%E6%8B%9F%E5%90%88"><span class="nav-number">6.1.</span> <span class="nav-text">线性拟合</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Kernel"><span class="nav-number">7.</span> <span class="nav-text">Kernel</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%94%90%E5%8C%96%E5%8D%B7%E7%A7%AF"><span class="nav-number">7.1.</span> <span class="nav-text">锐化卷积</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%92%9D%E5%8C%96%E5%8D%B7%E7%A7%AF"><span class="nav-number">7.2.</span> <span class="nav-text">*钝化卷积</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Algorithm"><span class="nav-number">8.</span> <span class="nav-text">Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Landsat%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%91%E9%81%AE%E7%BD%A9"><span class="nav-number">8.1.</span> <span class="nav-text">Landsat简单的云遮罩</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QA%E6%B3%A2%E6%AE%B5%E5%8E%BB%E4%BA%91"><span class="nav-number">9.</span> <span class="nav-text">QA波段去云</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E5%A4%A7%E5%80%BC%E5%90%88%E6%88%90"><span class="nav-number">9.1.</span> <span class="nav-text">最大值合成</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%95%B4%E5%90%88"><span class="nav-number">10.</span> <span class="nav-text">数据整合</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%B9%E7%90%86%E7%89%B9%E5%BE%81"><span class="nav-number">10.1.</span> <span class="nav-text">纹理特征</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BD%B1%E5%83%8F%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%8C%B9%E9%85%8D"><span class="nav-number">11.</span> <span class="nav-text">影像直方图匹配</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Javascript%E5%9F%BA%E7%A1%80"><span class="nav-number"></span> <span class="nav-text">Javascript基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.</span> <span class="nav-text">条件语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89if%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.1.</span> <span class="nav-text">1）if语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89switch%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.2.</span> <span class="nav-text">2）switch语句</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.</span> <span class="nav-text">循环语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%EF%BC%89while%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.1.</span> <span class="nav-text">1）while语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%EF%BC%89do%E2%80%A6while%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.2.</span> <span class="nav-text">2）do…while语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%EF%BC%89for%E5%BE%AA%E7%8E%AF"><span class="nav-number">2.3.</span> <span class="nav-text">3）for循环</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-for%E2%80%A6in%E5%BE%AA%E7%8E%AF"><span class="nav-number">2.4.</span> <span class="nav-text">4)for…in循环</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0-1"><span class="nav-number">3.</span> <span class="nav-text">函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GEE%E4%B8%AD%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%87%BD%E6%95%B0%E5%BA%93%EF%BC%9A"><span class="nav-number"></span> <span class="nav-text">GEE中构建自己的函数库：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3GEE%E4%B8%AD%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%E9%97%AE%E9%A2%98"><span class="nav-number">0.1.</span> <span class="nav-text">解决GEE中内存溢出问题</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">suifeng</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">suifeng</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
